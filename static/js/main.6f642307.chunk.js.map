{"version":3,"sources":["images/logo1.JPG","auth/index.js","core/apiCore.js","core/ShowImage.js","core/Card.js","core/cartHelpers.js","core/Search.js","core/Menu.js","core/Layout.js","user/Signup.js","user/Signin.js","core/Home.js","auth/PrivateRoute.js","user/UserDashboard.js","user/apiUser.js","auth/AdminRoute.js","user/AdminDashboard.js","admin/apiAdmin.js","admin/AddCategory.js","admin/AddProduct.js","core/Checkbox.js","core/RadioBox.js","core/fixedPrices.js","core/Shop.js","core/Product.js","core/Checkout.js","core/Cart.js","admin/Orders.js","user/Profile.js","admin/ManageProducts.js","admin/UpdateProduct.js","Routes.js","index.js"],"names":["module","exports","__webpack_require__","p","isAuthenticated","window","localStorage","getItem","JSON","parse","getProducts","sortBy","fetch","concat","method","then","response","json","catch","err","console","log","getCategories","getFilteredProducts","skip","limit","data","filters","arguments","length","undefined","headers","Accept","Content-Type","body","stringify","ShowImage","_ref","item","url","react_default","a","createElement","className","src","_id","alt","name","style","maxHeight","maxWidth","Card","product","_ref$showViewProductB","showViewProductButton","_ref$showAddToCartBut","showAddToCartButton","_ref$cartUpdate","cartUpdate","_ref$showRemoveProduc","showRemoveProductButton","_useState","useState","_useState2","Object","slicedToArray","redirect","setRedirect","_useState3","count","_useState4","setCount","addToCart","next","cart","push","objectSpread","Array","from","Set","map","id","find","setItem","addItem","handleChange","productId","event","target","value","i","updateItem","react_router","to","shouldRedirect","react_router_dom","core_ShowImage","description","substring","fontSize","price","category","moment","createdAt","fromNow","quantity","showViewButton","onClick","class","showAddToCart","splice","removeItem","showRemoveButton","type","onChange","showCartUpdateOptions","Search","categories","search","results","searched","setData","useEffect","error","searchData","params","query","queryString","list","searchSubmit","e","preventDefault","_objectSpread2","defineProperty","onSubmit","c","key","placeholder","border","searchMessage","core_Card","searchedProducts","logo","require","isActive","history","path","location","pathname","color","withRouter","width","height","user","role","react","cursor","signout","Layout","_ref$title","title","_ref$description","children","core_Menu","Signup","email","password","success","values","setValues","clickSubmit","core_Layout","display","Signin","loading","redirectToReferrer","authenticate","Home","productsBySell","setProductsBySell","productsByArrival","setProductsByArrival","_useState5","_useState6","setError","core_Search","PrivateRoute","Component","component","rest","objectWithoutProperties","assign","render","props","state","Dashboard","setHistory","_isAuthenticated$user","token","init","userId","Authorization","getPurchaseHistory","h","products","purchaseHistory","AdminRoute","AdminDashboard","AddCategory","setName","setSuccess","_isAuthenticated","createCategory","showSuccess","showError","autoFocus","required","AddProduct","shipping","photo","createdProduct","redirectToProfile","formData","FormData","files","set","createProduct","accept","Checkbox","handleFilters","checked","setCheked","handleToggle","currentCategoryId","indexOf","newCheckedCategoryId","toConsumableArray","RadioBox","prices","setValue","array","Shop","myFilters","setMyFilters","setCategories","_useState7","_useState8","_useState9","_useState10","setSkip","_useState11","_useState12","size","setSize","_useState13","_useState14","filteredResults","setFilteredResults","loadFilteredResults","newFilters","loadMore","toSkip","filterBy","priceValues","handlePrice","parseInt","core_Checkbox","core_RadioBox","Product","setProduct","relatedProduct","setRelatedProduct","loadSingleProduct","read","match","zoom","marginTop","padding","Checkout","clientToken","instance","address","getToken","getBraintreeClientToken","handleAddress","getTotal","reduce","currentValue","nextValue","deliveryAddress","buy","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","processPayment","createOrderData","transaction_id","transaction","order","createOrder","message","showDropIn","onBlur","lib_default","options","authorization","paypal","flow","onInstance","Cart","items","setItems","showItems","core_Checkout","Orders","orders","setOrders","statusValues","setStatusValues","loadOrders","listOrders","loadStatusValues","getStatusValues","showInput","readOnly","handleStatusChange","orderId","status","updateOrderStatus","o","oIndex","borderBottom","index","showStatus","pIndex","Profile","update","auth","updateUser","profileUpdate","redirectUser","ManageProducts","setProducts","loadProducts","destroy","deleteProduct","UpdateProduct","getProduct","initCategories","updateProduct","Routes","exact","auth_PrivateRoute","auth_AdminRoute","ReactDOM","src_Routes","document","getElementById"],"mappings":"mIAAAA,EAAAC,QAAiBC,EAAAC,EAAuB,uKCyD3BC,SAAkB,WAC3B,MAAqB,oBAAVC,WAGPC,aAAaC,QAAQ,QACdC,KAAKC,MAAMH,aAAaC,QAAQ,4BC1DlCG,EAAc,SAAAC,GACvB,OAAOC,MAAS,sCAAJC,OAAA,oBAA6DF,EAA7D,uBAA0F,CAClGG,OAAQ,QAEPC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAGrBG,EAAgB,WACzB,OAAOV,MAAS,sCAAJC,OAAA,eAAwD,CAChEC,OAAQ,QAEPC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MAGrBI,EAAsB,SAACC,EAAMC,GAAwB,IACxDC,EAAO,CACTD,QACAD,OACAG,QAJ0DC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,IAMvD,OAAOhB,MAAS,sCAAJC,OAAA,uBAAgE,CACxEC,OAAQ,OACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,oBAEpBC,KAAM1B,KAAK2B,UAAUT,KAEpBX,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GACHC,QAAQC,IAAIF,MC5BTiB,EAXG,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,KAAMC,EAATF,EAASE,IAAT,OACdC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAAA,OACIE,IAAQ,sCAAL/B,OAAA,IAA8C0B,EAA9C,WAAA1B,OAA2DyB,EAAKO,KACnEC,IAAKR,EAAKS,KACVJ,UAAU,OACVK,MAAO,CAAEC,UAAW,OAAQC,SAAU,6BCmJnCC,EAtJF,SAAAd,GAMP,IALFe,EAKEf,EALFe,QAKEC,EAAAhB,EAJFiB,6BAIE,IAAAD,KAAAE,EAAAlB,EAHFmB,2BAGE,IAAAD,KAAAE,EAAApB,EAFFqB,kBAEE,IAAAD,KAAAE,EAAAtB,EADFuB,+BACE,IAAAD,KAAAE,EAC8BC,oBAAS,GADvCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACKK,EADLH,EAAA,GACeI,EADfJ,EAAA,GAAAK,EAEwBN,mBAASV,EAAQiB,OAFzCC,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEKC,EAFLC,EAAA,GAEYC,EAFZD,EAAA,GAgBIE,EAAY,YC5BC,SAAClC,EAAMmC,GAC1B,IAAIC,EAAO,GACW,qBAAXrE,SACHC,aAAaC,QAAQ,UACrBmE,EAAOlE,KAAKC,MAAMH,aAAaC,QAAQ,UAE3CmE,EAAKC,KAALX,OAAAY,EAAA,EAAAZ,CAAA,GACO1B,EADP,CAEI+B,MAAO,KAYXK,EAAOG,MAAMC,KAAK,IAAIC,IAAIL,EAAKM,IAAI,SAAA7E,GAAC,OAAIA,EAAE0C,QAAOmC,IAAI,SAAAC,GACjD,OAAOP,EAAKQ,KAAK,SAAA/E,GAAC,OAAIA,EAAE0C,MAAQoC,MAGpC3E,aAAa6E,QAAQ,OAAQ3E,KAAK2B,UAAUuC,IAC5CD,KDIAW,CAAQhC,EAAS,WACbe,GAAY,MA4CdkB,EAAe,SAAAC,GAAS,OAAI,SAAAC,GAC9BhB,EAASgB,EAAMC,OAAOC,MAAQ,EAAI,EAAIF,EAAMC,OAAOC,OAC/CF,EAAMC,OAAOC,OAAS,GC7BR,SAACH,EAAWjB,GAClC,IAAIK,EAAO,GACW,qBAAXrE,SACHC,aAAaC,QAAQ,UACrBmE,EAAOlE,KAAKC,MAAMH,aAAaC,QAAQ,UAG3CmE,EAAKM,IAAI,SAAC5B,EAASsC,GACXtC,EAAQP,MAAQyC,IAChBZ,EAAKgB,GAAGrB,MAAQA,KAIxB/D,aAAa6E,QAAQ,OAAQ3E,KAAK2B,UAAUuC,KDiBxCiB,CAAWL,EAAWC,EAAMC,OAAOC,SA2B3C,OACIjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAEXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAzEA,SAAAuB,GACnB,GAAIA,EACA,OAAO1B,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAUC,GAAG,UAwEfC,CAAe5B,GAEhB1B,EAAAC,EAAAC,cAAA,WACZF,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMF,GAAE,YAAAhF,OAAcuC,EAAQP,KAAOF,UAAU,QAC/BH,EAAAC,EAAAC,cAACsD,EAAD,CAAW1D,KAAMc,EAASb,IAAI,cAI9BC,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMF,GAAE,YAAAhF,OAAcuC,EAAQP,KAAOF,UAAU,QAC/CH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoBS,EAAQL,OAG/CP,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aACRS,EAAQ6C,YAAYC,UAAU,EAAG,MAG1C1D,EAAAC,EAAAC,cAAA,KAAGC,UAAU,YAETH,EAAAC,EAAAC,cAAA,KAAIM,MAAO,CAAEmD,SAAU,QAASxD,UAAU,OAA1C,IAECH,EAAAC,EAAAC,cAAA,OAAOM,MAAO,CAAEmD,SAAU,SAAU/C,EAAQgD,SAM7C5D,EAAAC,EAAAC,cAAA,KAAGC,UAAU,WAAb,aACeS,EAAQiD,UAAYjD,EAAQiD,SAAStD,MAEpDP,EAAAC,EAAAC,cAAA,KAAGC,UAAU,WAAb,YACc2D,IAAOlD,EAAQmD,WAAWC,WAG7BpD,EAAQqD,SA1ET,EACdjE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mCAAhB,YAEAH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iCAAhB,gBAwEIH,EAAAC,EAAAC,cAAA,WA9HW,SAAAY,GACnB,OACIA,GACId,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMF,GAAE,YAAAhF,OAAcuC,EAAQP,KAAOF,UAAU,SA6H9C+D,CAAepD,GAxGN,SAAAE,GAClB,OACIA,GACIhB,EAAAC,EAAAC,cAAA,UACIiE,QAASnC,EACT7B,UAAU,2CAE9BH,EAAAC,EAAAC,cAAA,KAAGkE,MAAM,oBAAT,iBAmGiBC,CAAcrD,GA7FF,SAAAI,GACrB,OACIA,GACIpB,EAAAC,EAAAC,cAAA,UACIiE,QAAS,kBCOH,SAAArB,GACtB,IAAIZ,EAAO,GAcX,MAbsB,qBAAXrE,SACHC,aAAaC,QAAQ,UACrBmE,EAAOlE,KAAKC,MAAMH,aAAaC,QAAQ,UAG3CmE,EAAKM,IAAI,SAAC5B,EAASsC,GACXtC,EAAQP,MAAQyC,GAChBZ,EAAKoC,OAAOpB,EAAG,KAIvBpF,aAAa6E,QAAQ,OAAQ3E,KAAK2B,UAAUuC,KAEzCA,EDtBwBqC,CAAW3D,EAAQP,MAClCF,UAAU,8CAFd,kBA4FCqE,CAAiBpD,GAnEA,SAAAF,GAC1B,OACIA,GACIlB,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBAAhB,oBAIJH,EAAAC,EAAAC,cAAA,SACIuE,KAAK,SACLtE,UAAU,eACV8C,MAAOpB,EACP6C,SAAU7B,EAAajC,EAAQP,SAuD1CsE,CAAsBzD,MEzBxB0D,EAzHA,WAAM,IAAAvD,EACOC,mBAAS,CAC7BuD,WAAY,GACZhB,SAAU,GACViB,OAAQ,GACRC,QAAS,GACTC,UAAU,IANGzD,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACVnC,EADUqC,EAAA,GACJ0D,EADI1D,EAAA,GASTsD,EAAoD3F,EAApD2F,WAAYhB,EAAwC3E,EAAxC2E,SAAUiB,EAA8B5F,EAA9B4F,OAAQC,EAAsB7F,EAAtB6F,QAASC,EAAa9F,EAAb8F,SAY/CE,oBAAU,WATNpG,IAAgBP,KAAK,SAAAW,GACbA,EAAKiG,MACLvG,QAAQC,IAAIK,EAAKiG,OAEjBF,EAAQzD,OAAAY,EAAA,EAAAZ,CAAA,GAAKtC,EAAN,CAAY2F,WAAY3F,QAOxC,IAEH,IAAMkG,EAAa,WAEXN,GJeQ,SAAAO,GAChB,IAAMC,EAAQC,IAAY5F,UAAU0F,GAEpC,OADAzG,QAAQC,IAAI,QAASyG,GACdlH,MAAS,sCAAJC,OAAA,oBAA6DiH,GAAS,CAC9EhH,OAAQ,QAEPC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KIvBtB6G,CAAK,CAAEV,OAAQA,QAAUxF,EAAWuE,SAAUA,IAAYtF,KACtD,SAAAC,GACQA,EAAS2G,MACTvG,QAAQC,IAAIL,EAAS2G,OAErBF,EAAQzD,OAAAY,EAAA,EAAAZ,CAAA,GAAKtC,EAAN,CAAY6F,QAASvG,EAAUwG,UAAU,QAO9DS,EAAe,SAAAC,GACjBA,EAAEC,iBACFP,KAGEvC,EAAe,SAAAtC,GAAI,OAAI,SAAAwC,GAAS,IAAA6C,EAClCX,EAAQzD,OAAAY,EAAA,EAAAZ,CAAA,GAAKtC,GAAN0G,EAAA,GAAApE,OAAAqE,EAAA,EAAArE,CAAAoE,EAAarF,EAAOwC,EAAMC,OAAOC,OAAjCzB,OAAAqE,EAAA,EAAArE,CAAAoE,EAAA,YAAkD,GAAlDA,OAiEX,OACI5F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBApCnBH,EAAAC,EAAAC,cAAA,QAAM4F,SAAUL,GACZzF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,oBACZH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,UACIC,UAAU,WACVuE,SAAU7B,EAAa,aAEvB7C,EAAAC,EAAAC,cAAA,UAAQ+C,MAAM,OAAd,OACC4B,EAAWrC,IAAI,SAACuD,EAAG7C,GAAJ,OACZlD,EAAAC,EAAAC,cAAA,UAAQ8F,IAAK9C,EAAGD,MAAO8C,EAAE1F,KACpB0F,EAAExF,UAMnBP,EAAAC,EAAAC,cAAA,SACIuE,KAAK,SACLtE,UAAU,eACVuE,SAAU7B,EAAa,UACvBoD,YAAY,oBAGpBjG,EAAAC,EAAAC,cAAA,OACIC,UAAU,yBACVK,MAAO,CAAE0F,OAAQ,SAEjBlG,EAAAC,EAAAC,cAAA,UAAQC,UAAU,oBAAlB,cASRH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAxDE,WAAkB,IAAjB4E,EAAiB3F,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GAChC,OACIY,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAZJ,SAAC6E,EAAUD,GAC7B,OAAIC,GAAYD,EAAQ1F,OAAS,EAC7B,SAAAhB,OAAgB0G,EAAQ1F,OAAxB,aAEA2F,GAAYD,EAAQ1F,OAAS,EAC7B,yBADJ,EASa8G,CAAcnB,EAAUD,IAG7B/E,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACV4E,EAAQvC,IAAI,SAAC5B,EAASsC,GAAV,OACTlD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAACkG,EAAD,CAAMJ,IAAK9C,EAAGtC,QAASA,SA+ClCyF,CAAiBtB,MClH5BuB,EAAOC,EAAQ,IAEfC,EAAW,SAACC,EAASC,GACvB,OAAID,EAAQE,SAASC,WAAaF,EACvB,CAAEG,MAAO,WAET,CAAEA,MAAO,YAgJTC,cA5IF,SAAAjH,GAAA,IAAG4G,EAAH5G,EAAG4G,QAAH,OACTzG,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBACdH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACdH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACYpD,UAAU,WACVK,MAAOgG,EAASC,EAAS,KACzBpD,GAAG,KAEfrD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAOC,IAAKkG,EAAMS,MAAM,KAAKC,OAAO,IAAI1G,IAAI,WAI3DN,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YAENH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACIpD,UAAU,WACVK,MAAOgG,EAASC,EAAS,KACzBpD,GAAG,KAHP,SASJrD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACIpD,UAAU,WACVK,MAAOgG,EAASC,EAAS,SACzBpD,GAAG,SAHP,SASJrD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACIpD,UAAU,WACVK,MAAOgG,EAASC,EAAS,SACzBpD,GAAG,SACNrD,EAAAC,EAAAC,cAAA,KAAGkE,MAAM,yBAJV,mBAIqDpE,EAAAC,EAAAC,cAAA,WACrDF,EAAAC,EAAAC,cAAA,SAAOC,UAAU,IFzBP,qBAAXtC,QACHC,aAAaC,QAAQ,QACdC,KAAKC,MAAMH,aAAaC,QAAQ,SAASsB,OAGjD,IEeK,UAOa,MA0BhBzB,KAAqD,IAAhCA,IAAkBqJ,KAAKC,MACzClH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACIpD,UAAU,WACVK,MAAOgG,EAASC,EAAS,mBACzBpD,GAAG,mBAHP,UAUPzF,KAAqD,IAAhCA,IAAkBqJ,KAAKC,MACzClH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACIpD,UAAU,WACVK,MAAOgG,EAASC,EAAS,oBACzBpD,GAAG,oBAHP,WAUNzF,KACEoC,EAAAC,EAAAC,cAACiH,EAAA,SAAD,KACInH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACIpD,UAAU,WACVK,MAAOgG,EAASC,EAAS,WACzBpD,GAAG,WAHP,WASJrD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CACIpD,UAAU,WACVK,MAAOgG,EAASC,EAAS,WACzBpD,GAAG,WAHP,YAWXzF,KACGoC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACVH,EAAAC,EAAAC,cAAA,QACIC,UAAU,WACVK,MAAO,CAAE4G,OAAQ,UAAWP,MAAO,WACnC1C,QAAS,kBN7FV,SAAAlC,GACnB,GAAsB,qBAAXpE,OAGP,OAFAC,aAAayG,WAAW,OACxBtC,IACO7D,MAAS,sCAAJC,OAAA,YAAqD,CAC7DC,OAAQ,QAEPC,KAAK,SAAAC,GACFI,QAAQC,IAAI,UAAWL,KAE1BE,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KMoFV0I,CAAQ,WACJZ,EAAQtE,KAAK,SALzB,gBCjHLmF,SAhBA,SAAAzH,GAAA,IAAA0H,EAAA1H,EACX2H,aADW,IAAAD,EACH,QADGA,EAAAE,EAAA5H,EAEX4D,mBAFW,IAAAgE,EAEG,cAFHA,EAGXtH,EAHWN,EAGXM,UACAuH,EAJW7H,EAIX6H,SAJW,OAMX1H,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACyH,EAAD,MACA3H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,UAAKsH,GACLxH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,QAAQsD,IAEzBzD,EAAAC,EAAAC,cAAA,OAAKC,UAAWA,GAAYuH,MC2FrBE,EAtGA,WAAM,IAAAvG,EACWC,mBAAS,CACjCf,KAAM,GACNsH,MAAO,GACPC,SAAU,GACV3C,MAAO,GACP4C,SAAS,IANIxG,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACV2G,EADUzG,EAAA,GACF0G,EADE1G,EAAA,GASThB,EAA0CyH,EAA1CzH,KAAMsH,EAAoCG,EAApCH,MAAOC,EAA6BE,EAA7BF,SAAUC,EAAmBC,EAAnBD,QAAS5C,EAAU6C,EAAV7C,MAElCtC,EAAe,SAAAtC,GAAI,OAAI,SAAAwC,GACzBkF,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAANxG,OAAAqE,EAAA,EAAArE,CAAA,CAAc2D,OAAO,GAAQ5E,EAAOwC,EAAMC,OAAOC,WAGxDiF,EAAc,SAAAnF,GRlBF,IAAAkE,EQmBdlE,EAAM4C,iBACNsC,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,OAAO,MRpBhB8B,EQqBP,CAAE1G,OAAMsH,QAAOC,YRpBnB1J,MAAS,sCAAJC,OAAA,WAAoD,CAC5DC,OAAQ,OACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,oBAEpBC,KAAM1B,KAAK2B,UAAUsH,KAEpB1I,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GACHC,QAAQC,IAAIF,MQQkBJ,KAAK,SAAAW,GAC/BA,EAAKiG,MACL8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAOjG,EAAKiG,MAAO4C,SAAS,KAEnDE,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GACHwG,EADE,CAELzH,KAAM,GACNsH,MAAO,GACPC,SAAU,GACV3C,MAAO,GACP4C,SAAS,QA6DzB,OACI/H,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,SACN/D,YAAY,sCACZtD,UAAU,kCAZdH,EAAAC,EAAAC,cAAA,OACIC,UAAU,mBACVK,MAAO,CAAE4H,QAASL,EAAU,GAAK,SAFrC,kCAImC/H,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMF,GAAG,WAAT,WAbnCrD,EAAAC,EAAAC,cAAA,OACIC,UAAU,qBACVK,MAAO,CAAE4H,QAASjD,EAAQ,GAAK,SAE9BA,GAzCLnF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,QACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,QACvB4B,KAAK,OACLtE,UAAU,eACV8C,MAAO1C,KAIfP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,SACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,SACvB4B,KAAK,QACLtE,UAAU,eACV8C,MAAO4E,KAIf7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,YACvB4B,KAAK,WACLtE,UAAU,eACV8C,MAAO6E,KAGf9H,EAAAC,EAAAC,cAAA,UAAQiE,QAAS+D,EAAa/H,UAAU,mBAAxC,aCsCGkI,EAvGA,WAAM,IAAAhH,EACWC,mBAAS,CACjCuG,MAAO,GACPC,SAAU,GACV3C,MAAO,GACPmD,SAAS,EACTC,oBAAoB,IANPhH,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACV2G,EADUzG,EAAA,GACF0G,EADE1G,EAAA,GASTsG,EAAwDG,EAAxDH,MAAOC,EAAiDE,EAAjDF,SAAUQ,EAAuCN,EAAvCM,QAASnD,EAA8B6C,EAA9B7C,MAAOoD,EAAuBP,EAAvBO,mBACjCtB,EAASrJ,IAATqJ,KAEFpE,EAAe,SAAAtC,GAAI,OAAI,SAAAwC,GACzBkF,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAANxG,OAAAqE,EAAA,EAAArE,CAAA,CAAc2D,OAAO,GAAQ5E,EAAOwC,EAAMC,OAAOC,WAGxDiF,EAAc,SAAAnF,GTFF,IAAAkE,ESGdlE,EAAM4C,iBACNsC,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,OAAO,EAAOmD,SAAS,MTJhCrB,ESKP,CAAEY,QAAOC,YTJb1J,MAAS,sCAAJC,OAAA,WAAoD,CAC5DC,OAAQ,OACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,oBAEpBC,KAAM1B,KAAK2B,UAAUsH,KAEpB1I,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GACHC,QAAQC,IAAIF,MSRYJ,KAAK,SAAAW,GACzBA,EAAKiG,MACL8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAOjG,EAAKiG,MAAOmD,SAAS,KTUvC,SAACpJ,EAAM+C,GACT,qBAAXpE,SACPC,aAAa6E,QAAQ,MAAO3E,KAAK2B,UAAUT,IAC3C+C,KSXQuG,CAAatJ,EAAM,WACf+I,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GACHwG,EADE,CAELO,oBAAoB,UA+DxC,OACIvI,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,SACN/D,YAAY,sCACZtD,UAAU,kCAvBdmI,GACItI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACXH,EAAAC,EAAAC,cAAA,yBAXRF,EAAAC,EAAAC,cAAA,OACIC,UAAU,qBACVK,MAAO,CAAE4H,QAASjD,EAAQ,GAAK,SAE9BA,GA/BLnF,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,SACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,SACvB4B,KAAK,QACLtE,UAAU,eACV8C,MAAO4E,KAIf7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,YACvB4B,KAAK,WACLtE,UAAU,eACV8C,MAAO6E,KAGf9H,EAAAC,EAAAC,cAAA,UAAQiE,QAAS+D,EAAa/H,UAAU,mBAAxC,WAuBAoI,EACItB,GAAsB,IAAdA,EAAKC,KACNlH,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAUC,GAAG,qBAEbrD,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAUC,GAAG,oBAGxBzF,IACOoC,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAUC,GAAG,WADxB,ICzBOoF,EA1DF,WAAM,IAAApH,EAC6BC,mBAAS,IADtCC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRqH,EADQnH,EAAA,GACQoH,EADRpH,EAAA,GAAAK,EAEmCN,mBAAS,IAF5CQ,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAERgH,EAFQ9G,EAAA,GAEW+G,EAFX/G,EAAA,GAAAgH,EAGWxH,oBAAS,GAHpByH,EAAAvH,OAAAC,EAAA,EAAAD,CAAAsH,EAAA,GAGDE,GAHCD,EAAA,GAAAA,EAAA,IA8Bf,OALA7D,oBAAU,WATNhH,EAAY,aAAaK,KAAK,SAAAW,GACtBA,EAAKiG,MACL6D,EAAS9J,EAAKiG,OAEd0D,EAAqB3J,KAd7BhB,EAAY,QAAQK,KAAK,SAAAW,GACjBA,EAAKiG,MACL6D,EAAS9J,EAAKiG,OAEdwD,EAAkBzJ,MAkB3B,IAGCc,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,YACN/D,YAAY,oCACZtD,UAAU,mBAEVH,EAAAC,EAAAC,cAAC+I,EAAD,MACAjJ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAd,gBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACVyI,EAAkBpG,IAAI,SAAC5B,EAASsC,GAAV,OAChBlD,EAAAC,EAAAC,cAAA,OAAK8F,IAAK9C,EAAG/C,UAAU,eACtBH,EAAAC,EAAAC,cAACkG,EAAD,CAAMxF,QAASA,QAK3BZ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAd,gBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACVuI,EAAelG,IAAI,SAAC5B,EAASsC,GAAV,OAChBlD,EAAAC,EAAAC,cAAA,OAAK8F,IAAK9C,EAAG/C,UAAU,eACnBH,EAAAC,EAAAC,cAACkG,EAAD,CAAMxF,QAASA,kBClCxBsI,EAlBM,SAAArJ,GAAA,IAAcsJ,EAAdtJ,EAAGuJ,UAAyBC,EAA5B7H,OAAA8H,EAAA,EAAA9H,CAAA3B,EAAA,sBACjBG,EAAAC,EAAAC,cAACkD,EAAA,EAAD5B,OAAA+H,OAAA,GACQF,EADR,CAEIG,OAAQ,SAAAC,GAAK,OACT7L,IACIoC,EAAAC,EAAAC,cAACiJ,EAAcM,GAEfzJ,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CACIC,GAAI,CACAuD,SAAU,UACV8C,MAAO,CAAEpH,KAAMmH,EAAM9C,kBCsG9BgD,EA7GG,WAAM,IAAAtI,EACUC,mBAAS,IADnBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACboF,EADalF,EAAA,GACJqI,EADIrI,EAAA,GAAAsI,EAKhBjM,IADAqJ,KAAQ5G,EAJQwJ,EAIRxJ,IAAKE,EAJGsJ,EAIHtJ,KAAMsH,EAJHgC,EAIGhC,MAAOX,EAJV2C,EAIU3C,KAExB4C,EAAQlM,IAAkBkM,MAE1BC,EAAO,SAACC,EAAQF,IC6BQ,SAACE,EAAQF,GACvC,OAAO1L,MAAS,sCAAJC,OAAA,mBAA4D2L,GAAU,CAC9E1L,OAAQ,MACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,MAG5BvL,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MDxC1BuL,CAAmBF,EAAQF,GAAOvL,KAAK,SAAAW,GAC/BA,EAAKiG,MACLvG,QAAQC,IAAIK,EAAKiG,OAEjByE,EAAW1K,MAKvBgG,oBAAU,WACN6E,EAAK1J,EAAKyJ,IACX,IAwEH,OACI9J,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,YACN/D,YAAW,SAAApF,OAAWkC,EAAX,KACXJ,UAAU,mBAEVH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SA3EnBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,cACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMpD,UAAU,WAAWkD,GAAG,SAA9B,YAIJrD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMpD,UAAU,WAAWkD,GAAE,YAAAhF,OAAcgC,IAA3C,sBAmERL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAxDnBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,oBACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAmBI,GACjCP,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAmB0H,GACjC7H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACA,IAAT+G,EAAa,QAAU,qBAOpB,SAAAT,GACpB,OACIzG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,oBACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACTsG,EAAQjE,IAAI,SAAC2H,EAAGjH,GACb,OACIlD,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,WACCiK,EAAEC,SAAS5H,IAAI,SAAC7E,EAAGuF,GAChB,OACIlD,EAAAC,EAAAC,cAAA,OAAK8F,IAAK9C,GACNlD,EAAAC,EAAAC,cAAA,2BAAmBvC,EAAE4C,MACrBP,EAAAC,EAAAC,cAAA,6BACqBvC,EAAEiG,OAEvB5D,EAAAC,EAAAC,cAAA,4BACoB,IACf4D,IACGnG,EAAEoG,WACJC,oBAwBjCqG,CAAgB5D,OEvFtB6D,EAlBI,SAAAzK,GAAA,IAAcsJ,EAAdtJ,EAAGuJ,UAAyBC,EAA5B7H,OAAA8H,EAAA,EAAA9H,CAAA3B,EAAA,sBACfG,EAAAC,EAAAC,cAACkD,EAAA,EAAD5B,OAAA+H,OAAA,GACQF,EADR,CAEIG,OAAQ,SAAAC,GAAK,OACT7L,KAAqD,IAAhCA,IAAkBqJ,KAAKC,KACxClH,EAAAC,EAAAC,cAACiJ,EAAcM,GAEfzJ,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CACIC,GAAI,CACAuD,SAAU,UACV8C,MAAO,CAAEpH,KAAMmH,EAAM9C,kBCuD9B4D,EAhEQ,WAAM,IAAAV,EAGrBjM,IADAqJ,KAAa1G,GAFQsJ,EAEbxJ,IAFawJ,EAERtJ,MAAMsH,EAFEgC,EAEFhC,MAAOX,EAFL2C,EAEK3C,KAgD9B,OACIlH,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,YACN/D,YAAW,SAAApF,OAAWkC,EAAX,KACXJ,UAAU,mBAEVH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAlDnBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,eACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMpD,UAAU,WAAWkD,GAAG,oBAA9B,oBAIJrD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMpD,UAAU,WAAWkD,GAAG,mBAA9B,mBAIJrD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMpD,UAAU,WAAWkD,GAAG,iBAA9B,gBAIJrD,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACVH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMpD,UAAU,WAAWkD,GAAG,mBAA9B,uBAgCRrD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SArBnBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,oBACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAmBI,GACjCP,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAmB0H,GACjC7H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACA,IAAT+G,EAAa,QAAU,yBCXnCpI,EAAgB,WACzB,OAAOV,MAAS,sCAAJC,OAAA,eAAwD,CAChEC,OAAQ,QAEPC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MC4CnB6L,EAlFK,WAAM,IAAAnJ,EACEC,mBAAS,IADXC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACfd,EADegB,EAAA,GACTkJ,EADSlJ,EAAA,GAAAK,EAEIN,oBAAS,GAFbQ,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEfuD,EAFerD,EAAA,GAERkH,EAFQlH,EAAA,GAAAgH,EAGQxH,oBAAS,GAHjByH,EAAAvH,OAAAC,EAAA,EAAAD,CAAAsH,EAAA,GAGff,EAHegB,EAAA,GAGN2B,EAHM3B,EAAA,GAAA4B,EAME/M,IAAhBqJ,EANc0D,EAMd1D,KAAM6C,EANQa,EAMRb,MAERjH,EAAe,SAAA6C,GACjBsD,EAAS,IACTyB,EAAQ/E,EAAE1C,OAAOC,QAGfiF,EAAc,SAAAxC,GAChBA,EAAEC,iBACFqD,EAAS,IACT0B,GAAW,GDpBW,SAACV,EAAQF,EAAOjG,GAC1C,OAAOzF,MAAS,sCAAJC,OAAA,oBAA6D2L,GAAU,CAC/E1L,OAAQ,OACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,IAE7BpK,KAAM1B,KAAK2B,UAAUkE,KAEpBtF,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GACHC,QAAQC,IAAIF,KCQhBiM,CAAe3D,EAAK5G,IAAKyJ,EAAO,CAAEvJ,SAAQhC,KAAK,SAAAW,GACvCA,EAAKiG,MACL6D,EAAS9J,EAAKiG,QAEd6D,EAAS,IACT0B,GAAW,OA0CvB,OACI1K,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,qBACN/D,YAAW,SAAApF,OAAW4I,EAAK1G,KAAhB,mCAEXP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBA1BP,WAChB,GAAI4H,EACA,OAAO/H,EAAAC,EAAAC,cAAA,MAAIC,UAAU,gBAAgBI,EAA9B,eAyBEsK,GArBC,WACd,GAAI1F,EACA,OAAOnF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,6BAoBE2K,GA5Cb9K,EAAAC,EAAAC,cAAA,QAAM4F,SAAUoC,GACZlI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,QACAH,EAAAC,EAAAC,cAAA,SACIuE,KAAK,OACLtE,UAAU,eACVuE,SAAU7B,EACVI,MAAO1C,EACPwK,WAAS,EACTC,UAAQ,KAGhBhL,EAAAC,EAAAC,cAAA,UAAQC,UAAU,2BAAlB,oBAiBJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMF,GAAG,mBAAmBlD,UAAU,gBAAtC,0BCqJG8K,EAhNI,WAAM,IAAA5J,EACOC,mBAAS,CACjCf,KAAM,GACNkD,YAAa,GACbG,MAAO,GACPiB,WAAY,GACZhB,SAAU,GACVqH,SAAU,GACVjH,SAAU,GACVkH,MAAO,GACP7C,SAAS,EACTnD,MAAO,GACPiG,eAAgB,GAChBC,mBAAmB,EACnBC,SAAU,KAdO/J,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACd2G,EADczG,EAAA,GACN0G,EADM1G,EAAA,GAAAoJ,EAiBG/M,IAAhBqJ,EAjBa0D,EAiBb1D,KAAM6C,EAjBOa,EAiBPb,MAEVvJ,EAYAyH,EAZAzH,KACAkD,EAWAuE,EAXAvE,YACAG,EAUAoE,EAVApE,MACAiB,EASAmD,EATAnD,WAGAZ,GAMA+D,EARAnE,SAQAmE,EAPAkD,SAOAlD,EANA/D,UACAqE,EAKAN,EALAM,QACAnD,EAIA6C,EAJA7C,MACAiG,EAGApD,EAHAoD,eAEAE,GACAtD,EAFAqD,kBAEArD,EADAsD,UAkBJpG,oBAAU,WAbNpG,IAAgBP,KAAK,SAAAW,GACbA,EAAKiG,MACL8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAOjG,EAAKiG,SAEnC8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GACHwG,EADE,CAELnD,WAAY3F,EACZoM,SAAU,IAAIC,eAQ3B,IAEH,IAAM1I,EAAe,SAAAtC,GAAI,OAAI,SAAAwC,GACzB,IAAME,EACO,UAAT1C,EAAmBwC,EAAMC,OAAOwI,MAAM,GAAKzI,EAAMC,OAAOC,MAC5DqI,EAASG,IAAIlL,EAAM0C,GACnBgF,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAANxG,OAAAqE,EAAA,EAAArE,CAAA,GAAejB,EAAO0C,OAG7BiF,EAAc,SAAAnF,GAChBA,EAAM4C,iBACNsC,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAO,GAAImD,SAAS,KF/CtB,SAAC0B,EAAQF,EAAOlJ,GACzC,OAAOxC,MAAS,sCAAJC,OAAA,mBAA4D2L,GAAU,CAC9E1L,OAAQ,OACRiB,QAAS,CACLC,OAAQ,mBACRyK,cAAa,UAAA5L,OAAYyL,IAE7BpK,KAAMkB,IAELrC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GACHC,QAAQC,IAAIF,KEoChB+M,CAAczE,EAAK5G,IAAKyJ,EAAOwB,GAAU/M,KAAK,SAAAW,GACtCA,EAAKiG,MACL8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAOjG,EAAKiG,SAEnC8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GACHwG,EADE,CAELzH,KAAM,GACNkD,YAAa,GACb0H,MAAO,GACPvH,MAAO,GACPK,SAAU,GACVqE,SAAS,EACT8C,eAAgBlM,EAAKqB,WAoHrC,OACIP,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,oBACN/D,YAAW,SAAApF,OAAW4I,EAAK1G,KAAhB,kCAEXP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBAZvBmI,GACItI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,yBAXRF,EAAAC,EAAAC,cAAA,OACIC,UAAU,mBACVK,MAAO,CAAE4H,QAASgD,EAAiB,GAAK,SAExCpL,EAAAC,EAAAC,cAAA,aAAA7B,OAAQ+M,GAAR,iBAbJpL,EAAAC,EAAAC,cAAA,OACIC,UAAU,qBACVK,MAAO,CAAE4H,QAASjD,EAAQ,GAAK,SAE9BA,GAzFLnF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,OAAO2F,SAAUoC,GAC7BlI,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,SACvB4B,KAAK,OACLlE,KAAK,QACLoL,OAAO,cAKnB3L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,QACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,QACvB4B,KAAK,OACLtE,UAAU,eACV8C,MAAO1C,KAIfP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,eACAH,EAAAC,EAAAC,cAAA,YACIwE,SAAU7B,EAAa,eACvB1C,UAAU,eACV8C,MAAOQ,KAIfzD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,SACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,SACvB4B,KAAK,SACLtE,UAAU,eACV8C,MAAOW,KAIf5D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,UACIwE,SAAU7B,EAAa,YACvB1C,UAAU,gBAEVH,EAAAC,EAAAC,cAAA,+BACC2E,GACGA,EAAWrC,IAAI,SAACuD,EAAG7C,GAAJ,OACXlD,EAAAC,EAAAC,cAAA,UAAQ8F,IAAK9C,EAAGD,MAAO8C,EAAE1F,KACpB0F,EAAExF,UAMvBP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,UACIwE,SAAU7B,EAAa,YACvB1C,UAAU,gBAEVH,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,UAAQ+C,MAAM,KAAd,MACAjD,EAAAC,EAAAC,cAAA,UAAQ+C,MAAM,KAAd,SAIRjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,YACvB4B,KAAK,SACLtE,UAAU,eACV8C,MAAOgB,KAIfjE,EAAAC,EAAAC,cAAA,UAAQC,UAAU,2BAAlB,+BCtIGyL,EAhCE,SAAA/L,GAAmC,IAAhCgF,EAAgChF,EAAhCgF,WAAYgH,EAAoBhM,EAApBgM,cAAoBxK,EACnBC,mBAAS,IADUC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACzCyK,EADyCvK,EAAA,GAChCwK,EADgCxK,EAAA,GAG1CyK,EAAe,SAAAjG,GAAC,OAAI,WAEtB,IAAMkG,EAAoBH,EAAQI,QAAQnG,GACpCoG,EAAoB3K,OAAA4K,EAAA,EAAA5K,CAAOsK,IAGN,IAAvBG,EACAE,EAAqBhK,KAAK4D,GAE1BoG,EAAqB7H,OAAO2H,EAAmB,GAGnDF,EAAUI,GACVN,EAAcM,KAGlB,OAAOtH,EAAWrC,IAAI,SAACuD,EAAG7C,GAAJ,OAClBlD,EAAAC,EAAAC,cAAA,MAAI8F,IAAK9C,EAAG/C,UAAU,iBAClBH,EAAAC,EAAAC,cAAA,SACIwE,SAAUsH,EAAajG,EAAE1F,KACzB4C,MAAO6I,EAAQI,SAAmB,IAAXnG,EAAE1F,KACzBoE,KAAK,WACLtE,UAAU,qBAEdH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,oBAAoB4F,EAAExF,UCLpC8L,EAtBE,SAAAxM,GAA+B,IAA5ByM,EAA4BzM,EAA5ByM,OAAQT,EAAoBhM,EAApBgM,cAAoBxK,EAClBC,mBAAS,GADSC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC9BkL,GAD8BhL,EAAA,GAAAA,EAAA,IAGtCsB,EAAe,SAAAE,GACjB8I,EAAc9I,EAAMC,OAAOC,OAC3BsJ,EAASxJ,EAAMC,OAAOC,QAG1B,OAAOqJ,EAAO9J,IAAI,SAAC7E,EAAGuF,GAAJ,OACdlD,EAAAC,EAAAC,cAAA,OAAK8F,IAAK9C,GACNlD,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EACVI,MAAK,GAAA5E,OAAKV,EAAE0C,KACZE,KAAM5C,EACN8G,KAAK,QACLtE,UAAU,cAEdH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,oBAAoBxC,EAAE4C,UCnBtC+L,EAAS,CAClB,CACIjM,IAAK,EACLE,KAAM,MACNiM,MAAO,IAEX,CACInM,IAAK,EACLE,KAAM,YACNiM,MAAO,CAAC,EAAG,KAEf,CACInM,IAAK,EACLE,KAAM,aACNiM,MAAO,CAAC,GAAI,KAEhB,CACInM,IAAK,EACLE,KAAM,aACNiM,MAAO,CAAC,GAAI,KAEhB,CACInM,IAAK,EACLE,KAAM,aACNiM,MAAO,CAAC,GAAI,KAEhB,CACInM,IAAK,EACLE,KAAM,gBACNiM,MAAO,CAAC,GAAI,OCoHLC,EAxIF,WAAM,IAAApL,EACmBC,mBAAS,CACvCnC,QAAS,CAAE0E,SAAU,GAAID,MAAO,MAFrBrC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACRqL,EADQnL,EAAA,GACGoL,EADHpL,EAAA,GAAAK,EAIqBN,mBAAS,IAJ9BQ,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAIRiD,EAJQ/C,EAAA,GAII8K,EAJJ9K,EAAA,GAAAgH,EAKWxH,oBAAS,GALpByH,EAAAvH,OAAAC,EAAA,EAAAD,CAAAsH,EAAA,GAKDE,GALCD,EAAA,GAAAA,EAAA,IAAA8D,EAMWvL,mBAAS,GANpBwL,EAAAtL,OAAAC,EAAA,EAAAD,CAAAqL,EAAA,GAMR5N,EANQ6N,EAAA,GAAAC,GAAAD,EAAA,GAOSxL,mBAAS,IAPlB0L,EAAAxL,OAAAC,EAAA,EAAAD,CAAAuL,EAAA,GAOR/N,EAPQgO,EAAA,GAOFC,EAPED,EAAA,GAAAE,EAQS5L,mBAAS,GARlB6L,EAAA3L,OAAAC,EAAA,EAAAD,CAAA0L,EAAA,GAQRE,EARQD,EAAA,GAQFE,EAREF,EAAA,GAAAG,EAS+BhM,mBAAS,IATxCiM,EAAA/L,OAAAC,EAAA,EAAAD,CAAA8L,EAAA,GASRE,EATQD,EAAA,GASSE,EATTF,EAAA,GAqBTG,EAAsB,SAAAC,GAExB5O,EAAoBC,EAAMC,EAAO0O,GAAYpP,KAAK,SAAAW,GAC1CA,EAAKiG,MACL6D,EAAS9J,EAAKiG,QAEdsI,EAAmBvO,EAAKA,MACxBmO,EAAQnO,EAAKkO,MACbH,EAAQ,OAKdW,EAAW,WACb,IAAIC,EAAS7O,EAAOC,EAEpBF,EAAoB8O,EAAQ5O,EAAOyN,EAAUvN,SAASZ,KAAK,SAAAW,GACnDA,EAAKiG,MACL6D,EAAS9J,EAAKiG,QAEdsI,EAAkB,GAAApP,OAAAmD,OAAA4K,EAAA,EAAA5K,CAAKgM,GAALhM,OAAA4K,EAAA,EAAA5K,CAAyBtC,EAAKA,QAChDmO,EAAQnO,EAAKkO,MACbH,EAAQY,OAgBpB3I,oBAAU,WA/CNpG,IAAgBP,KAAK,SAAAW,GACbA,EAAKiG,MACL6D,EAAS9J,EAAKiG,OAEdyH,EAAc1N,KA6CtBwO,EAAoB1O,EAAa0N,EAAUvN,UAC5C,IAEH,IAAM0M,EAAgB,SAAC1M,EAAS2O,GAE5B,IAAMH,EAAUnM,OAAAY,EAAA,EAAAZ,CAAA,GAAQkL,GAGxB,GAFAiB,EAAWxO,QAAQ2O,GAAY3O,EAEd,UAAb2O,EAAsB,CACtB,IAAIC,EAAcC,EAAY7O,GAC9BwO,EAAWxO,QAAQ2O,GAAYC,EAEnCL,EAAoBhB,EAAUvN,SAC9BwN,EAAagB,IAGXK,EAAc,SAAA/K,GAChB,IAAM/D,EAAOoN,EACTE,EAAQ,GAEZ,IAAK,IAAIxG,KAAO9G,EACRA,EAAK8G,GAAK3F,MAAQ4N,SAAShL,KAC3BuJ,EAAQtN,EAAK8G,GAAKwG,OAG1B,OAAOA,GAGX,OACIxM,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,YACN/D,YAAY,oBACZtD,UAAU,mBAGVH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iCACPH,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAACgO,EAAD,CACIrJ,WAAYA,EACZgH,cAAe,SAAA1M,GAAO,OAClB0M,EAAc1M,EAAS,gBAKnCa,EAAAC,EAAAC,cAAA,mBACAF,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAACiO,EAAD,CACI7B,OAAQA,EACRT,cAAe,SAAA1M,GAAO,OAClB0M,EAAc1M,EAAS,cAMvCa,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAd,YACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACVqN,EAAgBhL,IAAI,SAAC5B,EAASsC,GAAV,OACjBlD,EAAAC,EAAAC,cAAA,OAAK8F,IAAK9C,EAAG/C,UAAU,iBACnBH,EAAAC,EAAAC,cAACkG,EAAD,CAAMxF,QAASA,QAI3BZ,EAAAC,EAAAC,cAAA,WA9ERkN,EAAO,GACPA,GAAQnO,GACJe,EAAAC,EAAAC,cAAA,UAAQiE,QAASyJ,EAAUzN,UAAU,wBAArC,iBCGDiO,EA3DC,SAAA3E,GAAS,IAAApI,EACSC,mBAAS,IADlBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACdT,EADcW,EAAA,GACL8M,EADK9M,EAAA,GAAAK,EAEuBN,mBAAS,IAFhCQ,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEd0M,EAFcxM,EAAA,GAEEyM,EAFFzM,EAAA,GAAAgH,EAGKxH,oBAAS,GAHdyH,EAAAvH,OAAAC,EAAA,EAAAD,CAAAsH,EAAA,GAGPE,GAHOD,EAAA,GAAAA,EAAA,IAKfyF,EAAoB,SAAA1L,ItBgDV,SAAAA,GAChB,OAAO1E,MAAS,sCAAJC,OAAA,YAAqDyE,GAAa,CAC1ExE,OAAQ,QAEPC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MsBtD1B8P,CAAK3L,GAAWvE,KAAK,SAAAW,GtByDF,IAAA4D,EsBxDX5D,EAAKiG,MACL6D,EAAS9J,EAAKiG,QAEdkJ,EAAWnP,ItBqDA4D,EsBnDC5D,EAAKmB,ItBoDtBjC,MAAS,sCAAJC,OAAA,qBAA8DyE,GAAa,CACnFxE,OAAQ,QAEPC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MsB1DIJ,KAAK,SAAAW,GACnBA,EAAKiG,MACL6D,EAAS9J,EAAKiG,OAEdoJ,EAAkBrP,SAYtC,OALAgG,oBAAU,WACN,IAAMpC,EAAY2G,EAAMiF,MAAMrJ,OAAOvC,UACrC0L,EAAkB1L,IACnB,CAAC2G,IAGAzJ,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAO5G,GAAWA,EAAQL,KAC1BkD,YACI7C,GACAA,EAAQ6C,aACR7C,EAAQ6C,YAAYC,UAAU,EAAG,KAGrCvD,UAAU,mBAEVH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBAAwBK,MAAO,CAAEmO,KAAM,IAAKC,UAAW,KAAMC,QAAS,MAC5EjO,GAAWA,EAAQ6C,aAChBzD,EAAAC,EAAAC,cAACkG,EAAD,CAAMxF,QAASA,EAASE,uBAAuB,KAIvDd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBACXH,EAAAC,EAAAC,cAAA,8BACCoO,EAAe9L,IAAI,SAAC7E,EAAGuF,GAAJ,OAChBlD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACXH,EAAAC,EAAAC,cAACkG,EAAD,CAAMJ,IAAK9C,EAAGtC,QAASjD,oCCsIpCmR,EA/KE,SAAAjP,GAAkB,IAAfuK,EAAevK,EAAfuK,SAAe/I,EACPC,mBAAS,CAC7BgH,SAAS,EACTP,SAAS,EACTgH,YAAa,KACb5J,MAAO,GACP6J,SAAU,GACVC,QAAS,KAPkB1N,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACxBnC,EADwBqC,EAAA,GAClB0D,EADkB1D,EAAA,GAUzByI,EAASpM,KAAqBA,IAAkBqJ,KAAK5G,IACrDyJ,EAAQlM,KAAqBA,IAAkBkM,MAE/CoF,EAAW,SAAClF,EAAQF,IvBmDS,SAACE,EAAQF,GAC5C,OAAO1L,MAAS,sCAAJC,OAAA,uBAAgE2L,GAAU,CAClF1L,OAAQ,MACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,MAG5BvL,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MuB9D1BwQ,CAAwBnF,EAAQF,GAAOvL,KAAK,SAAAW,GACpCA,EAAKiG,MACLF,EAAQzD,OAAAY,EAAA,EAAAZ,CAAA,GAAKtC,EAAN,CAAYiG,MAAOjG,EAAKiG,SAE/BF,EAAQ,CAAE8J,YAAa7P,EAAK6P,iBAKxC7J,oBAAU,WACNgK,EAASlF,EAAQF,IAClB,IAEH,IAoHkB3E,EASE4C,EA7HdqH,EAAgB,SAAArM,GAClBkC,EAAQzD,OAAAY,EAAA,EAAAZ,CAAA,GAAKtC,EAAN,CAAY+P,QAASlM,EAAMC,OAAOC,UAGvCoM,EAAW,WACb,OAAOjF,EAASkF,OAAO,SAACC,EAAcC,GAClC,OAAOD,EAAeC,EAAU3N,MAAQ2N,EAAU5L,OACnD,IAaH6L,EAAkBvQ,EAAK+P,QAErBS,EAAM,WACRzK,EAAQ,CAAEqD,SAAS,IAIJpJ,EAAK8P,SACfW,uBACApR,KAAK,SAAAW,GAUF,IAAM0Q,EAAc,CAChBC,mBATI3Q,EAAK4Q,MAUTC,OAAQV,MvBWE,SAACrF,EAAQF,EAAO8F,GAC1C,OAAOxR,MAAS,sCAAJC,OAAA,sBAA+D2L,GAAU,CACjF1L,OAAQ,OACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,IAE7BpK,KAAM1B,KAAK2B,UAAUiQ,KAEpBrR,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MuBrBlBqR,CAAehG,EAAQF,EAAO8F,GACzBrR,KAAK,SAAAC,GACFI,QAAQC,IAAIL,GAIZ,IAAMyR,EAAkB,CACpB7F,SAAUA,EACV8F,eAAgB1R,EAAS2R,YAAY1N,GACrCsN,OAAQvR,EAAS2R,YAAYJ,OAC7Bd,QAASQ,IvBcV,SAACzF,EAAQF,EAAOmG,GACvC,OAAO7R,MAAS,sCAAJC,OAAA,iBAA0D2L,GAAU,CAC5E1L,OAAQ,OACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,IAE7BpK,KAAM1B,KAAK2B,UAAU,CAAEyQ,MAAOH,MAE7B1R,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MuBxBV0R,CAAYrG,EAAQF,EAAOmG,GACtB1R,KAAK,SAAAC,GpBjBT,IAAAyD,IoBkBiB,WACNrD,QAAQC,IACJ,kCAEJoG,EAAQ,CACJqD,SAAS,EACTP,SAAS,KpBvBvB,qBAAXlK,SACPC,aAAayG,WAAW,QACxBtC,OoByBqBvD,MAAM,SAAAyG,GACHvG,QAAQC,IAAIsG,GACZF,EAAQ,CAAEqD,SAAS,QAG9B5J,MAAM,SAAAyG,GACHvG,QAAQC,IAAIsG,GACZF,EAAQ,CAAEqD,SAAS,QAG9B5J,MAAM,SAAAyG,GAEHF,EAAQzD,OAAAY,EAAA,EAAAZ,CAAA,GAAKtC,EAAN,CAAYiG,MAAOA,EAAMmL,cAItCC,EAAa,kBACfvQ,EAAAC,EAAAC,cAAA,OAAKsQ,OAAQ,kBAAMvL,EAAQzD,OAAAY,EAAA,EAAAZ,CAAA,GAAKtC,EAAN,CAAYiG,MAAO,QACnB,OAArBjG,EAAK6P,aAAwB3E,EAAS/K,OAAS,EAC5CW,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,qBACAH,EAAAC,EAAAC,cAAA,YACIwE,SAAU0K,EACVjP,UAAU,eACV8C,MAAO/D,EAAK+P,QACZhJ,YAAY,wCAIpBjG,EAAAC,EAAAC,cAACuQ,EAAAxQ,EAAD,CACIyQ,QAAS,CACLC,cAAezR,EAAK6P,YACpB6B,OAAQ,CACJC,KAAM,UAGdC,WAAY,SAAA9B,GAAQ,OAAK9P,EAAK8P,SAAWA,KAE7ChP,EAAAC,EAAAC,cAAA,UAAQiE,QAASuL,EAAKvP,UAAU,6BAAhC,QAIJ,OAyBZ,OACIH,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,qBAAamP,KACAnQ,EAAKoJ,SALXtI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,eAVK4H,EAgBC7I,EAAK6I,QAftB/H,EAAAC,EAAAC,cAAA,OACIC,UAAU,mBACVK,MAAO,CAAE4H,QAASL,EAAU,GAAK,SAFrC,0CAVc5C,EA0BCjG,EAAKiG,MAzBpBnF,EAAAC,EAAAC,cAAA,OACIC,UAAU,qBACVK,MAAO,CAAE4H,QAASjD,EAAQ,GAAK,SAE9BA,IA9GEvH,IACHoC,EAAAC,EAAAC,cAAA,WAAMqQ,KAENvQ,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMF,GAAG,WACLrD,EAAAC,EAAAC,cAAA,UAAQC,UAAU,mBAAlB,0BCGD4Q,EApDF,WAAM,IAAA1P,EACWC,mBAAS,IADpBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACR2P,EADQzP,EAAA,GACD0P,EADC1P,EAAA,GAGf2D,oBAAU,WACN+L,ErB4BkB,qBAAXpT,QACHC,aAAaC,QAAQ,QACdC,KAAKC,MAAMH,aAAaC,QAAQ,SAGxC,KqBhCJ,CAACiT,IA0BJ,OACIhR,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,gBACN/D,YAAY,oEACZtD,UAAU,mBAEVH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACV6Q,EAAM3R,OAAS,EAhCd,SAAA2R,GACd,OACIhR,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,8BAAA7B,OAAsB2S,EAAM3R,QAA5B,UACAW,EAAAC,EAAAC,cAAA,WACC8Q,EAAMxO,IAAI,SAAC5B,EAASsC,GAAV,OACPlD,EAAAC,EAAAC,cAACkG,EAAD,CACIJ,IAAK9C,EACLtC,QAASA,EACTI,qBAAqB,EACrBE,YAAY,EACZE,yBAAyB,OAqBT8P,CAAUF,GAb1ChR,EAAAC,EAAAC,cAAA,iCACwBF,EAAAC,EAAAC,cAAA,WADxB,IAC+BF,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMF,GAAG,SAAT,uBAevBrD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAd,qBACAH,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAACiR,EAAD,CAAU/G,SAAU4G,QCqHzBI,EAlKA,WAAM,IAAA/P,EACWC,mBAAS,IADpBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACVgQ,EADU9P,EAAA,GACF+P,EADE/P,EAAA,GAAAK,EAEuBN,mBAAS,IAFhCQ,EAAAN,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEV2P,EAFUzP,EAAA,GAEI0P,EAFJ1P,EAAA,GAAA6I,EAIO/M,IAAhBqJ,EAJS0D,EAIT1D,KAAM6C,EAJGa,EAIHb,MAER2H,EAAa,YVkCG,SAACzH,EAAQF,GAC/B,OAAO1L,MAAS,sCAAJC,OAAA,eAAwD2L,GAAU,CAC1E1L,OAAQ,MACRiB,QAAS,CACLC,OAAQ,mBACRyK,cAAa,UAAA5L,OAAYyL,MAG5BvL,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MU5C1B+S,CAAWzK,EAAK5G,IAAKyJ,GAAOvL,KAAK,SAAAW,GACzBA,EAAKiG,MACLvG,QAAQC,IAAIK,EAAKiG,OAEjBmM,EAAUpS,MAKhByS,EAAmB,YVsCE,SAAC3H,EAAQF,GACpC,OAAO1L,MAAS,sCAAJC,OAAA,wBAAiE2L,GAAU,CACnF1L,OAAQ,MACRiB,QAAS,CACLC,OAAQ,mBACRyK,cAAa,UAAA5L,OAAYyL,MAG5BvL,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MUhD1BiT,CAAgB3K,EAAK5G,IAAKyJ,GAAOvL,KAAK,SAAAW,GAC9BA,EAAKiG,MACLvG,QAAQC,IAAIK,EAAKiG,OAEjBqM,EAAgBtS,MAK5BgG,oBAAU,WACNuM,IACAE,KACD,IAEH,IAYME,EAAY,SAAC7L,EAAK/C,GAAN,OACdjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAoB6F,IAEvChG,EAAAC,EAAAC,cAAA,SACIuE,KAAK,OACLxB,MAAOA,EACP9C,UAAU,eACV2R,UAAQ,MAKdC,EAAqB,SAACrM,EAAGsM,IVWF,SAAChI,EAAQF,EAAOkI,EAASC,GACtD,OAAO7T,MAAS,sCAAJC,OAAA,UAAmD2T,EAAnD,YAAA3T,OAAqE2L,GAAU,CACvF1L,OAAQ,MACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,IAE7BpK,KAAM1B,KAAK2B,UAAU,CAAEsS,SAAQD,cAE9BzT,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MUvB1BuT,CAAkBjL,EAAK5G,IAAKyJ,EAAOkI,EAAStM,EAAE1C,OAAOC,OAAO1E,KACxD,SAAAW,GACQA,EAAKiG,MACLvG,QAAQC,IAAI,wBAEZ4S,OAuBhB,OACIzR,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,SACN/D,YAAW,SAAApF,OACP4I,EAAK1G,KADE,wCAGXJ,UAAU,mBAEVH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBA/DnBkR,EAAOhS,OAAS,EAEZW,EAAAC,EAAAC,cAAA,MAAIC,UAAU,yBAAd,iBACmBkR,EAAOhS,QAIvBW,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,aA2DEkR,EAAO7O,IAAI,SAAC2P,EAAGC,GACZ,OACIpS,EAAAC,EAAAC,cAAA,OACIC,UAAU,OACV6F,IAAKoM,EACL5R,MAAO,CAAE6R,aAAc,qBAEvBrS,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QACVH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,cAAhB,aACegS,EAAE9R,MAIrBL,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBACVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBA3C3B,SAAAgS,GAAC,OAChBnS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,WAAmCgS,EAAEF,QACrCjS,EAAAC,EAAAC,cAAA,UACIC,UAAU,eACVuE,SAAU,SAAAgB,GAAC,OAAIqM,EAAmBrM,EAAGyM,EAAE9R,OAEvCL,EAAAC,EAAAC,cAAA,+BACCqR,EAAa/O,IAAI,SAACyP,EAAQK,GAAT,OACdtS,EAAAC,EAAAC,cAAA,UAAQ8F,IAAKsM,EAAOrP,MAAOgP,GACtBA,OAkCgBM,CAAWJ,IAEhBnS,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,mBACqBgS,EAAEjC,gBAEvBlQ,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,YACcgS,EAAEpC,QAEhB/P,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,eACiBgS,EAAElL,KAAK1G,MAExBP,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,cACgB,IACX2D,IAAOqO,EAAEpO,WAAWC,WAEzBhE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,mBAAd,qBACuBgS,EAAElD,UAI7BjP,EAAAC,EAAAC,cAAA,MAAIC,UAAU,yBAAd,+BACiC,IAC5BgS,EAAE/H,SAAS/K,QAGf8S,EAAE/H,SAAS5H,IAAI,SAAC7E,EAAG6U,GAAJ,OACZxS,EAAAC,EAAAC,cAAA,OACIC,UAAU,OACV6F,IAAKwM,EACLhS,MAAO,CACHqO,QAAS,OACT3I,OAAQ,qBAGX2L,EAAU,eAAgBlU,EAAE4C,MAC5BsR,EAAU,gBAAiBlU,EAAEiG,OAC7BiO,EAAU,gBAAiBlU,EAAEkE,OAC7BgQ,EAAU,aAAclU,EAAE0C,eC7CpDoS,EA1GC,SAAA5S,GAAe,IAAZ6O,EAAY7O,EAAZ6O,MAAYrN,EACCC,mBAAS,CACjCf,KAAM,GACNsH,MAAO,GACPC,SAAU,GACV3C,OAAO,EACP4C,SAAS,IANcxG,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACpB2G,EADoBzG,EAAA,GACZ0G,EADY1G,EAAA,GASnBuI,EAAUlM,IAAVkM,MACAvJ,EAA0CyH,EAA1CzH,KAAMsH,EAAoCG,EAApCH,MAAOC,EAA6BE,EAA7BF,SAAiBC,GAAYC,EAAnB7C,MAAmB6C,EAAZD,SAEhCgC,EAAO,SAAAC,IdhBG,SAACA,EAAQF,GACzB,OAAO1L,MAAS,sCAAJC,OAAA,SAAkD2L,GAAU,CACpE1L,OAAQ,MACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,MAG5BvL,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,McM1B8P,CAAKzE,EAAQF,GAAOvL,KAAK,SAAAW,GACjBA,EAAKiG,MACL8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,OAAO,KAE9B8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAczH,KAAMrB,EAAKqB,KAAMsH,MAAO3I,EAAK2I,YAKhE3C,oBAAU,WACN6E,EAAK2E,EAAMrJ,OAAO2E,SACnB,IAEH,IAAMnH,EAAe,SAAAtC,GAAI,OAAI,SAAAmF,GACzBuC,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAANxG,OAAAqE,EAAA,EAAArE,CAAA,CAAc2D,OAAO,GAAQ5E,EAAOmF,EAAE1C,OAAOC,WAGpDiF,EAAc,SAAAxC,GAChBA,EAAEC,iBdrBY,SAACqE,EAAQF,EAAO7C,GAClC,OAAO7I,MAAS,sCAAJC,OAAA,SAAkD2L,GAAU,CACpE1L,OAAQ,MACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,IAE7BpK,KAAM1B,KAAK2B,UAAUsH,KAEpB1I,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KcS1B+T,CAAOhE,EAAMrJ,OAAO2E,OAAQF,EAAO,CAAEvJ,OAAMsH,QAAOC,aAAYvJ,KAC1D,SAAAW,GACQA,EAAKiG,MACLvG,QAAQC,IAAIK,EAAKiG,OdTX,SAAC8B,EAAMhF,GAC7B,GAAsB,qBAAXpE,QACHC,aAAaC,QAAQ,OAAQ,CAC7B,IAAI4U,EAAO3U,KAAKC,MAAMH,aAAaC,QAAQ,QAC3C4U,EAAK1L,KAAOA,EACZnJ,aAAa6E,QAAQ,MAAO3E,KAAK2B,UAAUgT,IAC3C1Q,KcKQ2Q,CAAW1T,EAAM,WACb+I,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GACHwG,EADE,CAELzH,KAAMrB,EAAKqB,KACXsH,MAAO3I,EAAK2I,MACZE,SAAS,UAkDjC,OACI/H,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,UACN/D,YAAY,sBACZtD,UAAU,mBAEVH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,QAAd,kBA1Cc,SAACI,EAAMsH,EAAOC,GAAd,OAClB9H,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,QACAH,EAAAC,EAAAC,cAAA,SACIuE,KAAK,OACLC,SAAU7B,EAAa,QACvB1C,UAAU,eACV8C,MAAO1C,KAGfP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,SACAH,EAAAC,EAAAC,cAAA,SACIuE,KAAK,QACLC,SAAU7B,EAAa,SACvB1C,UAAU,eACV8C,MAAO4E,KAGf7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,SACIuE,KAAK,WACLC,SAAU7B,EAAa,YACvB1C,UAAU,eACV8C,MAAO6E,KAIf9H,EAAAC,EAAAC,cAAA,UAAQiE,QAAS+D,EAAa/H,UAAU,mBAAxC,WAaC0S,CAActS,EAAMsH,EAAOC,GAjDf,SAAAC,GACjB,GAAIA,EACA,OAAO/H,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAUC,GAAG,UAgDnByP,CAAa/K,KCrBXgL,EAhFQ,WAAM,IAAA1R,EACOC,mBAAS,IADhBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAClB+I,EADkB7I,EAAA,GACRyR,EADQzR,EAAA,GAAAoJ,EAGD/M,IAAhBqJ,EAHiB0D,EAGjB1D,KAAM6C,EAHWa,EAGXb,MAERmJ,EAAe,WZyFd7U,MAAS,sCAAJC,OAAA,6BAAsE,CAC9EC,OAAQ,QAEPC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KY9FZJ,KAAK,SAAAW,GACXA,EAAKiG,MACLvG,QAAQC,IAAIK,EAAKiG,OAEjB6N,EAAY9T,MAKlBgU,EAAU,SAAApQ,IZwFS,SAACA,EAAWkH,EAAQF,GAC7C,OAAO1L,MAAS,sCAAJC,OAAA,YAAqDyE,EAArD,KAAAzE,OAAkE2L,GAAU,CACpF1L,OAAQ,SACRiB,QAAS,CACLC,OAAQ,mBACRC,eAAgB,mBAChBwK,cAAa,UAAA5L,OAAYyL,MAG5BvL,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,MYnG1BwU,CAAcrQ,EAAWmE,EAAK5G,IAAKyJ,GAAOvL,KAAK,SAAAW,GACvCA,EAAKiG,MACLvG,QAAQC,IAAIK,EAAKiG,OAEjB8N,OASZ,OAJA/N,oBAAU,WACN+N,KACD,IAGCjT,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,kBACN/D,YAAY,2BACZtD,UAAU,mBAEVH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACXH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,SACWiK,EAAS/K,OADpB,aAGAW,EAAAC,EAAAC,cAAA,WAIAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACViK,EAAS5H,IAAI,SAAC7E,EAAGuF,GAAJ,OACVlD,EAAAC,EAAAC,cAAA,OACI8F,IAAK9C,EACL/C,UAAU,OAEVH,EAAAC,EAAAC,cAAA,UAASC,UAAU,UAAWxC,EAAE4C,MAChCP,EAAAC,EAAAC,cAACqD,EAAA,EAAD,CAAMF,GAAE,yBAAAhF,OAA2BV,EAAE0C,KAAMF,UAAU,UACjDH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,kCAAhB,WAKJH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACfH,EAAAC,EAAAC,cAAA,QACIiE,QAAS,kBAAM+O,EAAQvV,EAAE0C,MACzBF,UAAU,iCAFd,eAeZH,EAAAC,EAAAC,cAAA,eCyKLkT,EAlPO,SAAAvT,GAAe,IAAZ6O,EAAY7O,EAAZ6O,MAAYrN,EACLC,mBAAS,CACjCf,KAAM,GACNkD,YAAa,GACbG,MAAO,GACPiB,WAAY,GACZhB,SAAU,GACVqH,SAAU,GACVjH,SAAU,GACVkH,MAAO,GACP7C,SAAS,EACTnD,OAAO,EACPiG,eAAgB,GAChBC,mBAAmB,EACnBC,SAAU,KAdmB/J,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC1B2G,EAD0BzG,EAAA,GAClB0G,EADkB1G,EAAA,GAAAoJ,EAiBT/M,IAAhBqJ,EAjByB0D,EAiBzB1D,KAAM6C,EAjBmBa,EAiBnBb,MAEVvJ,EAYAyH,EAZAzH,KACAkD,EAWAuE,EAXAvE,YACAG,EAUAoE,EAVApE,MACAiB,EASAmD,EATAnD,WAGAZ,GAMA+D,EARAnE,SAQAmE,EAPAkD,SAOAlD,EANA/D,UACAqE,EAKAN,EALAM,QACAnD,EAIA6C,EAJA7C,MACAiG,EAGApD,EAHAoD,eACAC,EAEArD,EAFAqD,kBACAC,EACAtD,EADAsD,SAGEvB,EAAO,SAAAjH,IbqFS,SAAAA,GACtB,OAAO1E,MAAS,sCAAJC,OAAA,YAAqDyE,GAAa,CAC1ExE,OAAQ,QAEPC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,Ma3F1B0U,CAAWvQ,GAAWvE,KAAK,SAAAW,GACnBA,EAAKiG,MACL8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAOjG,EAAKiG,UAGnC8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GACHwG,EADE,CAELzH,KAAMrB,EAAKqB,KACXkD,YAAavE,EAAKuE,YAClBG,MAAO1E,EAAK0E,MACZC,SAAU3E,EAAK2E,SAASxD,IACxB6K,SAAUhM,EAAKgM,SACfjH,SAAU/E,EAAK+E,SACfqH,SAAU,IAAIC,YAGlB+H,QAMNA,EAAiB,WACnBxU,IAAgBP,KAAK,SAAAW,GACbA,EAAKiG,MACL8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAOjG,EAAKiG,SAEnC8C,EAAU,CACNpD,WAAY3F,EACZoM,SAAU,IAAIC,cAM9BrG,oBAAU,WACN6E,EAAK2E,EAAMrJ,OAAOvC,YACnB,IAEH,IAAMD,EAAe,SAAAtC,GAAI,OAAI,SAAAwC,GACzB,IAAME,EACO,UAAT1C,EAAmBwC,EAAMC,OAAOwI,MAAM,GAAKzI,EAAMC,OAAOC,MAC5DqI,EAASG,IAAIlL,EAAM0C,GACnBgF,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAANxG,OAAAqE,EAAA,EAAArE,CAAA,GAAejB,EAAO0C,OAG7BiF,EAAc,SAAAnF,GAChBA,EAAM4C,iBACNsC,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAO,GAAImD,SAAS,Kb8CtB,SAACxF,EAAWkH,EAAQF,EAAOlJ,GACpD,OAAOxC,MAAS,sCAAJC,OAAA,YAAqDyE,EAArD,KAAAzE,OAAkE2L,GAAU,CACpF1L,OAAQ,MACRiB,QAAS,CACLC,OAAQ,mBACRyK,cAAa,UAAA5L,OAAYyL,IAE7BpK,KAAMkB,IAELrC,KAAK,SAAAC,GACF,OAAOA,EAASC,SAEnBC,MAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAIF,KaxD1B4U,CAAc7E,EAAMrJ,OAAOvC,UAAWmE,EAAK5G,IAAKyJ,EAAOwB,GAAU/M,KAC7D,SAAAW,GACQA,EAAKiG,MACL8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GAAKwG,EAAN,CAAc7C,MAAOjG,EAAKiG,SAEnC8C,EAAUzG,OAAAY,EAAA,EAAAZ,CAAA,GACHwG,EADE,CAELzH,KAAM,GACNkD,YAAa,GACb0H,MAAO,GACPvH,MAAO,GACPK,SAAU,GACVqE,SAAS,EACTnD,OAAO,EACPkG,mBAAmB,EACnBD,eAAgBlM,EAAKqB,WA6HzC,OACIP,EAAAC,EAAAC,cAACiI,EAAD,CACIX,MAAM,oBACN/D,YAAW,SAAApF,OAAW4I,EAAK1G,KAAhB,kCAEXP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,wBApBvBmI,GACItI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uBACXH,EAAAC,EAAAC,cAAA,yBAXRF,EAAAC,EAAAC,cAAA,OACIC,UAAU,mBACVK,MAAO,CAAE4H,QAASgD,EAAiB,GAAK,SAExCpL,EAAAC,EAAAC,cAAA,aAAA7B,OAAQ+M,GAAR,iBAbJpL,EAAAC,EAAAC,cAAA,OACIC,UAAU,qBACVK,MAAO,CAAE4H,QAASjD,EAAQ,GAAK,SAE9BA,GAzFLnF,EAAAC,EAAAC,cAAA,QAAMC,UAAU,OAAO2F,SAAUoC,GAC7BlI,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,qBACbH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,SACvB4B,KAAK,OACLlE,KAAK,QACLoL,OAAO,cAKnB3L,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,QACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,QACvB4B,KAAK,OACLtE,UAAU,eACV8C,MAAO1C,KAIfP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,eACAH,EAAAC,EAAAC,cAAA,YACIwE,SAAU7B,EAAa,eACvB1C,UAAU,eACV8C,MAAOQ,KAIfzD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,SACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,SACvB4B,KAAK,SACLtE,UAAU,eACV8C,MAAOW,KAIf5D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,UACIwE,SAAU7B,EAAa,YACvB1C,UAAU,gBAEVH,EAAAC,EAAAC,cAAA,+BACC2E,GACGA,EAAWrC,IAAI,SAACuD,EAAG7C,GAAJ,OACXlD,EAAAC,EAAAC,cAAA,UAAQ8F,IAAK9C,EAAGD,MAAO8C,EAAE1F,KACpB0F,EAAExF,UAMvBP,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,UACIwE,SAAU7B,EAAa,YACvB1C,UAAU,gBAEVH,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,UAAQ+C,MAAM,KAAd,MACAjD,EAAAC,EAAAC,cAAA,UAAQ+C,MAAM,KAAd,SAIRjD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,cAAjB,YACAH,EAAAC,EAAAC,cAAA,SACIwE,SAAU7B,EAAa,YACvB4B,KAAK,SACLtE,UAAU,eACV8C,MAAOgB,KAIfjE,EAAAC,EAAAC,cAAA,UAAQC,UAAU,2BAAlB,mBA6Ba,WACjB,GAAIkL,IACKlG,EACD,OAAOnF,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAUC,GAAG,MAgBfyP,OC3KNU,EAnDA,WACX,OACIxT,EAAAC,EAAAC,cAACqD,EAAA,EAAD,KACIvD,EAAAC,EAAAC,cAACkD,EAAA,EAAD,KACIpD,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAOsD,KAAK,IAAI+M,OAAK,EAACrK,UAAWX,IACjCzI,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAOsD,KAAK,QAAQ+M,OAAK,EAACrK,UAAWqD,IACrCzM,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAOsD,KAAK,UAAU+M,OAAK,EAACrK,UAAWf,IACvCrI,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAOsD,KAAK,UAAU+M,OAAK,EAACrK,UAAWxB,IACvC5H,EAAAC,EAAAC,cAACwT,EAAD,CACIhN,KAAK,kBACL+M,OAAK,EACLrK,UAAWO,IAEf3J,EAAAC,EAAAC,cAACyT,EAAD,CACIjN,KAAK,mBACL+M,OAAK,EACLrK,UAAWmB,IAEfvK,EAAAC,EAAAC,cAACyT,EAAD,CACIjN,KAAK,mBACL+M,OAAK,EACLrK,UAAWoB,IAEfxK,EAAAC,EAAAC,cAACyT,EAAD,CACIjN,KAAK,kBACL+M,OAAK,EACLrK,UAAW6B,IAEfjL,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAOsD,KAAK,sBAAsB+M,OAAK,EAACrK,UAAWgF,IACnDpO,EAAAC,EAAAC,cAACkD,EAAA,EAAD,CAAOsD,KAAK,QAAQ+M,OAAK,EAACrK,UAAW2H,IACrC/Q,EAAAC,EAAAC,cAACyT,EAAD,CAAYjN,KAAK,gBAAgB+M,OAAK,EAACrK,UAAWgI,IAClDpR,EAAAC,EAAAC,cAACwT,EAAD,CACIhN,KAAK,mBACL+M,OAAK,EACLrK,UAAWqJ,IAEfzS,EAAAC,EAAAC,cAACyT,EAAD,CACIjN,KAAK,kBACL+M,OAAK,EACLrK,UAAW2J,IAEf/S,EAAAC,EAAAC,cAACyT,EAAD,CACIjN,KAAK,mCACL+M,OAAK,EACLrK,UAAWgK,OC3D/BQ,IAASpK,OAAOxJ,EAAAC,EAAAC,cAAC2T,EAAD,MAAYC,SAASC,eAAe","file":"static/js/main.6f642307.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo1.2121bb97.JPG\";","import { API } from '../config';\n\nexport const signup = user => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/signup`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const signin = user => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/signin`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const authenticate = (data, next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('jwt', JSON.stringify(data));\n        next();\n    }\n};\n\nexport const signout = next => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('jwt');\n        next();\n        return fetch(`${\"https://server-11.herokuapp.com/api\"}/signout`, {\n            method: 'GET'\n        })\n            .then(response => {\n                console.log('signout', response);\n            })\n            .catch(err => console.log(err));\n    }\n};\n\nexport const isAuthenticated = () => {\n    if (typeof window == 'undefined') {\n        return false;\n    }\n    if (localStorage.getItem('jwt')) {\n        return JSON.parse(localStorage.getItem('jwt'));\n    } else {\n        return false;\n    }\n};","import { API } from \"../config\";\n\nimport queryString from \"query-string\";\n\nexport const getProducts = sortBy => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/products?sortBy=${sortBy}&order=desc&limit=6`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getCategories = () => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/categories`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getFilteredProducts = (skip, limit, filters = {}) => {\n    const data = {\n        limit,\n        skip,\n        filters\n    };\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/products/by/search`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const list = params => {\n    const query = queryString.stringify(params);\n    console.log(\"query\", query);\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/products/search?${query}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const read = productId => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/product/${productId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const listRelated = productId => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/products/related/${productId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getBraintreeClientToken = (userId, token) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/braintree/getToken/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentData) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/braintree/payment/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(paymentData)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const createOrder = (userId, token, createOrderData) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/order/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ order: createOrderData })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n","import React from \"react\";\nimport { API } from \"../config\";\n\nconst ShowImage = ({ item, url }) => (\n    <div className=\"product-img\">\n        <img\n            src={`${\"https://server-11.herokuapp.com/api\"}/${url}/photo/${item._id}`}\n            alt={item.name}  \n            className=\"mt-3\"          \n            style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\n        />\n    </div>\n);\n\nexport default ShowImage;\n","import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport ShowImage from \"./ShowImage\";\nimport moment from \"moment\";\nimport { addItem, updateItem, removeItem } from \"./cartHelpers\";\n\nconst Card = ({\n    product,\n    showViewProductButton = true,\n    showAddToCartButton = true,\n    cartUpdate = false,\n    showRemoveProductButton = false\n}) => {\n    const [redirect, setRedirect] = useState(false);\n    const [count, setCount] = useState(product.count);\n\n    const showViewButton = showViewProductButton => {\n        return (\n            showViewProductButton && (\n                <Link to={`/product/${product._id}`} className=\"mr-2\">\n                    {/* <button className=\"badge-pill badge-danger mt-2 mb-2 p-2\">\n                        View Product\n                    </button> */}\n                </Link>\n            )\n        );\n    };\n\n    const addToCart = () => {\n        addItem(product, () => {\n            setRedirect(true);\n        });\n    };\n\n    const shouldRedirect = redirect => {\n        if (redirect) {\n            return <Redirect to=\"/cart\" />;\n        }\n    };\n\n    const showAddToCart = showAddToCartButton => {\n        return (\n            showAddToCartButton && (\n                <button\n                    onClick={addToCart}\n                    className=\"badge-pill badge-warning mx-2 p-1 my-2 \"                   \n                >\n<i class=\"fas fa-cart-plus\"> Add to Cart</i>                  \n                </button>\n            )\n        );\n    };\n\n    const showRemoveButton = showRemoveProductButton => {\n        return (\n            showRemoveProductButton && (\n                <button\n                    onClick={() => removeItem(product._id)}\n                    className=\"badge-pill badge-danger mt-2 mb-2 p-2 px-3\"\n                >\n                    Remove Product\n                </button>\n            )\n        );\n    };\n\n    const showStock = quantity => {\n        return quantity > 0 ? (\n            <span className=\"badge badge-dark badge-pill p-2\">In Stock</span>\n        ) : (\n            <span className=\"badge badge-danger badge-pill\">Out of Stock</span>\n        );\n    };\n\n    const handleChange = productId => event => {\n        setCount(event.target.value < 1 ? 1 : event.target.value);\n        if (event.target.value >= 1) {\n            updateItem(productId, event.target.value);\n        }\n    };\n\n    const showCartUpdateOptions = cartUpdate => {\n        return (\n            cartUpdate && (\n                <div>\n                    <div className=\"input-group mb-3\">\n                        <div className=\"input-group-prepend\">\n                            <span className=\"input-group-text\">\n                                Adjust Quantity\n                            </span>\n                        </div>\n                        <input\n                            type=\"number\"\n                            className=\"form-control\"\n                            value={count}\n                            onChange={handleChange(product._id)}\n                        />\n                    </div>\n                </div>\n            )\n        );\n    };\n\n   \n    return (\n        <div className=\"card\">\n            \n            <div className=\"card-body\">\n                {shouldRedirect(redirect)}\n\n                <div>          \n    <Link to={`/product/${product._id}`} className=\"mr-2\">                    \n                    <ShowImage item={product} url=\"product\" />  \n                </Link>\n                </div> \n\n                    <Link to={`/product/${product._id}`} className=\"mr-2\">                    \n                    <div className=\"card-header name\">{product.name}</div>   \n                </Link>  \n                          \n                <p className=\"lead mt-2\">\n                    {product.description.substring(0, 100)}\n                </p>\n            \n            <p className=\"row ml-3\">\n\n                <p  style={{ fontSize: \"1rem\"}} className=\"row\">$               \n\n                 <div   style={{ fontSize: \"2rem\"}}>{product.price}</div>\n                \n                </p>\n                </p>\n\n\n                <p className=\"black-9\">\n                    Category: {product.category && product.category.name}\n                </p>\n                <p className=\"black-8\">\n                    Added on {moment(product.createdAt).fromNow()}\n                </p>\n\n                {showStock(product.quantity)}\n                <br />\n\n                {showViewButton(showViewProductButton)}\n\n                {showAddToCart(showAddToCartButton)}\n\n                {showRemoveButton(showRemoveProductButton)}\n\n                {showCartUpdateOptions(cartUpdate)}\n            </div>\n        </div>\n    );\n};\n\nexport default Card;\n\n","export const addItem = (item, next) => {\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n        cart.push({\n            ...item,\n            count: 1\n        });\n\n        // remove duplicates\n        // build an Array from new Set and turn it back into array using Array.from\n        // so that later we can re-map it\n        // new set will only allow unique values in it\n        // so pass the ids of each object/product\n        // If the loop tries to add the same value again, it'll get ignored\n        // ...with the array of ids we got on when first map() was used\n        // run map() on it again and return the actual product from the cart\n\n        cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\n            return cart.find(p => p._id === id);\n        });\n\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n        next();\n    }\n};\n\nexport const itemTotal = () => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            return JSON.parse(localStorage.getItem(\"cart\")).length;\n        }\n    }\n    return 0;\n};\n\nexport const getCart = () => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            return JSON.parse(localStorage.getItem(\"cart\"));\n        }\n    }\n    return [];\n};\n\nexport const updateItem = (productId, count) => {\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n\n        cart.map((product, i) => {\n            if (product._id === productId) {\n                cart[i].count = count;\n            }\n        });\n\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n};\n\nexport const removeItem = productId => {\n    let cart = [];\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"cart\")) {\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\n        }\n\n        cart.map((product, i) => {\n            if (product._id === productId) {\n                cart.splice(i, 1);\n            }\n        });\n\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n    return cart;\n};\n\nexport const emptyCart = next => {\n    if (typeof window !== \"undefined\") {\n        localStorage.removeItem(\"cart\");\n        next();\n    }\n};\n","import React, { useState, useEffect } from \"react\";\nimport { getCategories, list } from \"./apiCore\";\nimport Card from \"./Card\";\n\nconst Search = () => {\n    const [data, setData] = useState({\n        categories: [],\n        category: \"\",\n        search: \"\",\n        results: [],\n        searched: false\n    });\n\n    const { categories, category, search, results, searched } = data;\n\n    const loadCategories = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setData({ ...data, categories: data });\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadCategories();\n    }, []);\n\n    const searchData = () => {\n        // console.log(search, category);\n        if (search) {\n            list({ search: search || undefined, category: category }).then(\n                response => {\n                    if (response.error) {\n                        console.log(response.error);\n                    } else {\n                        setData({ ...data, results: response, searched: true });\n                    }\n                }\n            );\n        }\n    };\n\n    const searchSubmit = e => {\n        e.preventDefault();\n        searchData();\n    };\n\n    const handleChange = name => event => {\n        setData({ ...data, [name]: event.target.value, searched: false });\n    };\n\n    const searchMessage = (searched, results) => {\n        if (searched && results.length > 0) {\n            return `Found ${results.length} products`;\n        }\n        if (searched && results.length < 1) {\n            return `No products found`;\n        }\n    };\n\n    const searchedProducts = (results = []) => {\n        return (\n            <div>\n                <h2 className=\"mt-4 mb-4\">\n                    {searchMessage(searched, results)}\n                </h2>\n\n                <div className=\"row\">\n                    {results.map((product, i) => (\n                        <div className=\"col-4 mb-3\">\n                            <Card key={i} product={product} />\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    };\n\n    const searchForm = () => (\n        <form onSubmit={searchSubmit}>\n            <span className=\"input-group-text\">\n                <div className=\"input-group input-group-lg\">\n                    <div className=\"input-group-prepend\">\n                        <select\n                            className=\"btn mr-2\"\n                            onChange={handleChange(\"category\")}\n                        >\n                            <option value=\"All\">All</option>\n                            {categories.map((c, i) => (\n                                <option key={i} value={c._id}>\n                                    {c.name}\n                                </option>\n                            ))}\n                        </select>\n                    </div>\n\n                    <input\n                        type=\"search\"\n                        className=\"form-control\"\n                        onChange={handleChange(\"search\")}\n                        placeholder=\"Search by name\"\n                    />\n                </div>\n                <div\n                    className=\"btn input-group-append\"\n                    style={{ border: \"none\" }}\n                >\n                    <button className=\"input-group-text\">Search</button>\n                </div>\n            </span>\n        </form>\n    );\n\n    return (\n        <div className=\"row\">\n            <div className=\"container mb-3\">{searchForm()}</div>\n            <div className=\"container-fluid mb-3\">\n                {searchedProducts(results)}\n            </div>\n        </div>\n    );\n};\n\nexport default Search;\n","import React, { Fragment } from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { signout, isAuthenticated } from \"../auth\";\nimport { itemTotal } from \"./cartHelpers\";\nimport Search from \"./Search\";  \nconst logo = require('../images/logo1.JPG');\n\nconst isActive = (history, path) => {\n    if (history.location.pathname === path) {\n        return { color: \"#F08804\" };\n    } else {\n        return { color: \"#ffffff\" };\n    }\n};\n\nconst Menu = ({ history }) => (\n    <div>\n        <ul className=\"nav nav-tabs p-2\">    \n        <li className=\"nav-item\">\n        <Link\n                    className=\"nav-link\"\n                    style={isActive(history, \"/\")}\n                    to=\"/\"\n                >\n        <img className=\"logo\" src={logo} width=\"10\" height=\"8\" alt='LOGO' />\n        </Link>\n        </li>\n\n        <li className=\"nav-item\">\n\n                <Link\n                    className=\"nav-link\"\n                    style={isActive(history, \"/\")}\n                    to=\"/\"\n                >\n                    Home\n                </Link>\n                </li>\n\n            <li className=\"nav-item\">\n                <Link\n                    className=\"nav-link\"\n                    style={isActive(history, \"/shop\")}\n                    to=\"/shop\"\n                >\n                    Shop\n                </Link>\n            </li>\n\n            <li className=\"nav-item\">\n                <Link\n                    className=\"nav-link\"\n                    style={isActive(history, \"/cart\")}\n                    to=\"/cart\"\n                ><i class=\"fas fa-shopping-cart\"></i>                <sup>\n                <small className=\"\">{itemTotal()}</small>\n            </sup>\n                     ...Cart{\" \"}\n\n                </Link>\n            </li>\n\n\n            {/* <li className=\"nav-item\">\n                <Link\n                    className=\"nav-link\"\n                    style={isActive(history, \"/cart\")}\n                    to=\"/cart\">\n          \n                   \n                     <div class=\"fa-1x\">\n  \n  <span class=\"fa-layers fa\" >\n  <i class=\"fas fa-dolly-flatbed \"></i>\n\n    <span class=\"fa-layers-counter  \"  data-fa-transform=\"shrink-8\">                \n    <span className=\"amount\">{itemTotal()}</span>\n</span>\n  </span>\n</div>\n                </Link>\n            </li> */}\n            \n            {isAuthenticated() && isAuthenticated().user.role === 0 && (\n                <li className=\"nav-item\">\n                    <Link\n                        className=\"nav-link\"\n                        style={isActive(history, \"/user/dashboard\")}\n                        to=\"/user/dashboard\"\n                    >\n                        Admin\n                    </Link>\n                </li>\n            )}\n\n            {isAuthenticated() && isAuthenticated().user.role === 1 && (\n                <li className=\"nav-item\">\n                    <Link\n                        className=\"nav-link\"\n                        style={isActive(history, \"/admin/dashboard\")}\n                        to=\"/admin/dashboard\"\n                    >\n                        Admin\n                    </Link>\n                </li>\n            )}\n\n            {!isAuthenticated() && (\n                <Fragment>\n                    <li className=\"nav-item\">\n                        <Link\n                            className=\"nav-link\"\n                            style={isActive(history, \"/signin\")}\n                            to=\"/signin\"\n                        >\n                            Signin\n                        </Link>\n                    </li>\n\n                    <li className=\"nav-item\">\n                        <Link\n                            className=\"nav-link\"\n                            style={isActive(history, \"/signup\")}\n                            to=\"/signup\"\n                        >\n                            Signup\n                        </Link>\n                    </li>\n                </Fragment>\n            )}\n\n            {isAuthenticated() && (\n                <li className=\"nav-item\">\n                    <span\n                        className=\"nav-link\"\n                        style={{ cursor: \"pointer\", color: \"#ffffff\" }}\n                        onClick={() =>\n                            signout(() => {\n                                history.push(\"/\");\n                            })\n                        }\n                    >\n                        Signout\n                    </span>\n                    \n                </li>                    \n            )}\n\n   \n        </ul>\n\n        \n    </div>\n);\n\nexport default withRouter(Menu);\n\n//\n","import React from \"react\";\nimport Menu from \"./Menu\";\nimport \"../styles.css\";\n\nconst Layout = ({\n    title = \"Title\",\n    description = \"Description\",\n    className,\n    children\n}) => (\n    <div>\n        <Menu />\n        <div className=\"jumbotron\">\n            <h2>{title}</h2>\n            <p className=\"lead\">{description}</p>\n        </div>\n        <div className={className}>{children}</div>\n    </div>\n);\n\nexport default Layout;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\nimport { signup } from \"../auth\";\n\nconst Signup = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        success: false\n    });\n\n    const { name, email, password, success, error } = values;\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false });\n        signup({ name, email, password }).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, success: false });\n            } else {\n                setValues({\n                    ...values,\n                    name: \"\",\n                    email: \"\",\n                    password: \"\",\n                    error: \"\",\n                    success: true\n                });\n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: success ? \"\" : \"none\" }}\n        >\n            New account is created. Please <Link to=\"/signin\">Signin</Link>\n        </div>\n    );\n\n    return (\n        <Layout\n            title=\"Signup\"\n            description=\"Signup to Node React E-commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showSuccess()}\n            {showError()}\n            {signUpForm()}\n        </Layout>\n    );\n};\n\nexport default Signup;\n","import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Layout from \"../core/Layout\";\nimport { signin, authenticate, isAuthenticated } from \"../auth\";\n\nconst Signin = () => {\n    const [values, setValues] = useState({\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        loading: false,\n        redirectToReferrer: false\n    });\n\n    const { email, password, loading, error, redirectToReferrer } = values;\n    const { user } = isAuthenticated();\n\n    const handleChange = name => event => {\n        setValues({ ...values, error: false, [name]: event.target.value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: false, loading: true });\n        signin({ email, password }).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error, loading: false });\n            } else {\n                authenticate(data, () => {\n                    setValues({\n                        ...values,\n                        redirectToReferrer: true\n                    });\n                });\n            }\n        });\n    };\n\n    const signUpForm = () => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    onChange={handleChange(\"email\")}\n                    type=\"email\"\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    onChange={handleChange(\"password\")}\n                    type=\"password\"\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-info\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    const redirectUser = () => {\n        if (redirectToReferrer) {\n            if (user && user.role === 1) {\n                return <Redirect to=\"/admin/dashboard\" />;\n            } else {\n                return <Redirect to=\"/user/dashboard\" />;\n            }\n        }\n        if (isAuthenticated()) {\n            return <Redirect to=\"/\" />;\n        }\n    };\n\n    return (\n        <Layout\n            title=\"Signin\"\n            description=\"Signin to Node React E-commerce App\"\n            className=\"container col-md-8 offset-md-2\"\n        >\n            {showLoading()}\n            {showError()}\n            {signUpForm()}\n            {redirectUser()}\n        </Layout>\n    );\n};\n\nexport default Signin;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { getProducts } from \"./apiCore\";\nimport Card from \"./Card\";\nimport Search from \"./Search\";\n\nconst Home = () => {\n    const [productsBySell, setProductsBySell] = useState([]);\n    const [productsByArrival, setProductsByArrival] = useState([]);\n    const [error, setError] = useState(false);\n\n    const loadProductsBySell = () => {\n        getProducts(\"sold\").then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setProductsBySell(data);\n            }\n        });\n    };\n\n    const loadProductsByArrival = () => {\n        getProducts(\"createdAt\").then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setProductsByArrival(data);\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadProductsByArrival();\n        loadProductsBySell();\n    }, []);\n\n    return (\n        <Layout\n            title=\"Home Page\"\n            description=\"Have a great shopping experience!\"\n            className=\"container-fluid\"\n        >\n            <Search />\n            <h2 className=\"mb-4\">New Arrivals</h2>\n            <div className=\"row\">\n                {productsByArrival.map((product, i) => (\n                       <div key={i} className=\"col-md mb-3\">\n                        <Card product={product} />\n                    </div>\n                ))}\n            </div>\n\n            <h2 className=\"mb-4\">Best Sellers</h2>\n            <div className=\"row\">\n                {productsBySell.map((product, i) => (\n                    <div key={i} className=\"col-md mb-3\">   \n                        <Card product={product} />\n                    </div>\n                ))}\n            </div>\n        </Layout>\n    );\n};\n\nexport default Home;\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default PrivateRoute;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getPurchaseHistory } from \"./apiUser\";\nimport moment from \"moment\";\n\nconst Dashboard = () => {\n    const [history, setHistory] = useState([]);\n\n    const {\n        user: { _id, name, email, role }\n    } = isAuthenticated();\n    const token = isAuthenticated().token;\n\n    const init = (userId, token) => {\n        getPurchaseHistory(userId, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setHistory(data);\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(_id, token);\n    }, []);\n\n    const userLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">User Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/cart\">\n                            My Cart\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to={`/profile/${_id}`}>\n                            Update Profile\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const userInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const purchaseHistory = history => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">Purchase history</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        {history.map((h, i) => {\n                            return (\n                                <div>\n                                    <hr />\n                                    {h.products.map((p, i) => {\n                                        return (\n                                            <div key={i}>\n                                                <h6>Product name: {p.name}</h6>\n                                                <h6>\n                                                    Product price: ${p.price}\n                                                </h6>\n                                                <h6>\n                                                    Purchased date:{\" \"}\n                                                    {moment(\n                                                        p.createdAt\n                                                    ).fromNow()}\n                                                </h6>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            );\n                        })}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title=\"Dashboard\"\n            description={`G'day ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">{userLinks()}</div>\n                <div className=\"col-9\">\n                    {userInfo()}\n                    {purchaseHistory(history)}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Dashboard;\n","import { API } from \"../config\";\n\nexport const read = (userId, token) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const update = (userId, token, user) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/user/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const updateUser = (user, next) => {\n    if (typeof window !== \"undefined\") {\n        if (localStorage.getItem(\"jwt\")) {\n            let auth = JSON.parse(localStorage.getItem(\"jwt\"));\n            auth.user = user;\n            localStorage.setItem(\"jwt\", JSON.stringify(auth));\n            next();\n        }\n    }\n};\n\nexport const getPurchaseHistory = (userId, token) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/orders/by/user/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { isAuthenticated } from \"./index\";\n\nconst AdminRoute = ({ component: Component, ...rest }) => (\n    <Route\n        {...rest}\n        render={props =>\n            isAuthenticated() && isAuthenticated().user.role === 1 ? (\n                <Component {...props} />\n            ) : (\n                <Redirect\n                    to={{\n                        pathname: \"/signin\",\n                        state: { from: props.location }\n                    }}\n                />\n            )\n        }\n    />\n);\n\nexport default AdminRoute;\n","import React from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminDashboard = () => {\n    const {\n        user: { _id, name, email, role }\n    } = isAuthenticated();\n\n    const adminLinks = () => {\n        return (\n            <div className=\"card\">\n                <h4 className=\"card-header\">Admin Links</h4>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/category\">\n                            Create Category\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/create/product\">\n                            Create Product\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/admin/orders\">\n                            View Orders\n                        </Link>\n                    </li>\n                    <li className=\"list-group-item\">\n                        <Link className=\"nav-link\" to=\"/admin/products\">\n                            Manage Products\n                        </Link>\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    const adminInfo = () => {\n        return (\n            <div className=\"card mb-5\">\n                <h3 className=\"card-header\">User Information</h3>\n                <ul className=\"list-group\">\n                    <li className=\"list-group-item\">{name}</li>\n                    <li className=\"list-group-item\">{email}</li>\n                    <li className=\"list-group-item\">\n                        {role === 1 ? \"Admin\" : \"Registered User\"}\n                    </li>\n                </ul>\n            </div>\n        );\n    };\n\n    return (\n        <Layout\n            title=\"Dashboard\"\n            description={`G'day ${name}!`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-3\">{adminLinks()}</div>\n                <div className=\"col-9\">{adminInfo()}</div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AdminDashboard;\n","import { API } from \"../config\";\n\nexport const createCategory = (userId, token, category) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/category/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(category)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const createProduct = (userId, token, product) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/product/create/${userId}`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const getCategories = () => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/categories`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const listOrders = (userId, token) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/order/list/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getStatusValues = (userId, token) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/order/status-values/${userId}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const updateOrderStatus = (userId, token, orderId, status) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/order/${orderId}/status/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({ status, orderId })\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\n/**\n * to perform crud on product\n * get all products\n * get a single product\n * update single product\n * delete single product\n */\n\nexport const getProducts = () => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/products?limit=undefined`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const deleteProduct = (productId, userId, token) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/product/${productId}/${userId}`, {\n        method: \"DELETE\",\n        headers: {\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const getProduct = productId => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/product/${productId}`, {\n        method: \"GET\"\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n\nexport const updateProduct = (productId, userId, token, product) => {\n    return fetch(`${\"https://server-11.herokuapp.com/api\"}/product/${productId}/${userId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => console.log(err));\n};\n","import React, { useState } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { createCategory } from \"./apiAdmin\";\n\nconst AddCategory = () => {\n    const [name, setName] = useState(\"\");\n    const [error, setError] = useState(false);\n    const [success, setSuccess] = useState(false);\n\n    // destructure user and token from localstorage\n    const { user, token } = isAuthenticated();\n\n    const handleChange = e => {\n        setError(\"\");\n        setName(e.target.value);\n    };\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        setError(\"\");\n        setSuccess(false);\n        // make request to api to create category\n        createCategory(user._id, token, { name }).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setError(\"\");\n                setSuccess(true);\n            }\n        });\n    };\n\n    const newCategoryFom = () => (\n        <form onSubmit={clickSubmit}>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    onChange={handleChange}\n                    value={name}\n                    autoFocus\n                    required\n                />\n            </div>\n            <button className=\"btn btn-outline-primary\">Create Category</button>\n        </form>\n    );\n\n    const showSuccess = () => {\n        if (success) {\n            return <h3 className=\"text-success\">{name} is created</h3>;\n        }\n    };\n\n    const showError = () => {\n        if (error) {\n            return <h3 className=\"text-danger\">Category should be unique</h3>;\n        }\n    };\n\n    const goBack = () => (\n        <div className=\"mt-5\">\n            <Link to=\"/admin/dashboard\" className=\"text-warning\">\n                Back to Dashboard\n            </Link>\n        </div>\n    );\n\n    return (\n        <Layout\n            title=\"Add a new category\"\n            description={`G'day ${user.name}, ready to add a new category?`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showSuccess()}\n                    {showError()}\n                    {newCategoryFom()}\n                    {goBack()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddCategory;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { createProduct, getCategories } from \"./apiAdmin\";\n\nconst AddProduct = () => {\n    const [values, setValues] = useState({\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        categories: [],\n        category: \"\",\n        shipping: \"\",\n        quantity: \"\",\n        photo: \"\",\n        loading: false,\n        error: \"\",\n        createdProduct: \"\",\n        redirectToProfile: false,\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n    const {\n        name,\n        description,\n        price,\n        categories,\n        category,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n\n    // load categories and set form data\n    const init = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    categories: data,\n                    formData: new FormData()\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init();\n    }, []);\n\n    const handleChange = name => event => {\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n        formData.set(name, value);\n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n\n        createProduct(user._id, token, formData).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    ...values,\n                    name: \"\",\n                    description: \"\",\n                    photo: \"\",\n                    price: \"\",\n                    quantity: \"\",\n                    loading: false,\n                    createdProduct: data.name\n                });\n            }\n        });\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange(\"photo\")}\n                        type=\"file\"\n                        name=\"photo\"\n                        accept=\"image/*\"\n                    />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <textarea\n                    onChange={handleChange(\"description\")}\n                    className=\"form-control\"\n                    value={description}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input\n                    onChange={handleChange(\"price\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={price}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select\n                    onChange={handleChange(\"category\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    {categories &&\n                        categories.map((c, i) => (\n                            <option key={i} value={c._id}>\n                                {c.name}\n                            </option>\n                        ))}\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select\n                    onChange={handleChange(\"shipping\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Quantity</label>\n                <input\n                    onChange={handleChange(\"quantity\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={quantity}\n                />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Create Product</button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: createdProduct ? \"\" : \"none\" }}\n        >\n            <h2>{`${createdProduct}`} is created!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    return (\n        <Layout\n            title=\"Add a new product\"\n            description={`G'day ${user.name}, ready to add a new product?`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {newPostForm()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default AddProduct;\n","import React, { useState } from \"react\";\n\nconst Checkbox = ({ categories, handleFilters }) => {\n    const [checked, setCheked] = useState([]);\n\n    const handleToggle = c => () => {\n        // return the first index or -1\n        const currentCategoryId = checked.indexOf(c);\n        const newCheckedCategoryId = [...checked];\n        // if currently checked was not already in checked state > push\n        // else pull/take off\n        if (currentCategoryId === -1) {\n            newCheckedCategoryId.push(c);\n        } else {\n            newCheckedCategoryId.splice(currentCategoryId, 1);\n        }\n        // console.log(newCheckedCategoryId);\n        setCheked(newCheckedCategoryId);\n        handleFilters(newCheckedCategoryId);\n    };\n\n    return categories.map((c, i) => (\n        <li key={i} className=\"list-unstyled\">\n            <input\n                onChange={handleToggle(c._id)}\n                value={checked.indexOf(c._id === -1)}\n                type=\"checkbox\"\n                className=\"form-check-input\"\n            />\n            <label className=\"form-check-label\">{c.name}</label>\n        </li>\n    ));\n};\n\nexport default Checkbox;\n","import React, { useState } from \"react\";\n\nconst RadioBox = ({ prices, handleFilters }) => {\n    const [value, setValue] = useState(0);\n\n    const handleChange = event => {\n        handleFilters(event.target.value);\n        setValue(event.target.value);\n    };\n\n    return prices.map((p, i) => (\n        <div key={i}>\n            <input\n                onChange={handleChange}\n                value={`${p._id}`}\n                name={p}\n                type=\"radio\"\n                className=\"mr-2 ml-4\"\n            />\n            <label className=\"form-check-label\">{p.name}</label>\n        </div>\n    ));\n};\n\nexport default RadioBox;\n","export const prices = [\n    {\n        _id: 0,\n        name: \"Any\",\n        array: []\n    },\n    {\n        _id: 1,\n        name: \"$0 to $19\",\n        array: [0, 19]\n    },\n    {\n        _id: 2,\n        name: \"$20 to $39\",\n        array: [20, 39]\n    },\n    {\n        _id: 3,\n        name: \"$40 to $59\",\n        array: [40, 59]\n    },\n    {\n        _id: 4,\n        name: \"$60 to $79\",\n        array: [60, 79]\n    },\n    {\n        _id: 5,\n        name: \"More than $80\",\n        array: [80, 200]\n    }\n];\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport Card from \"./Card\";\nimport { getCategories, getFilteredProducts } from \"./apiCore\";\nimport Checkbox from \"./Checkbox\";\nimport RadioBox from \"./RadioBox\";\nimport { prices } from \"./fixedPrices\";\n\n\nconst Shop = () => {\n    const [myFilters, setMyFilters] = useState({\n        filters: { category: [], price: [] }\n    });\n    const [categories, setCategories] = useState([]);\n    const [error, setError] = useState(false);\n    const [limit, setLimit] = useState(6);\n    const [skip, setSkip] = useState(0);\n    const [size, setSize] = useState(0);\n    const [filteredResults, setFilteredResults] = useState([]);\n\n    const init = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setCategories(data);\n            }\n        });\n    };\n\n    const loadFilteredResults = newFilters => {\n        // console.log(newFilters);\n        getFilteredProducts(skip, limit, newFilters).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setFilteredResults(data.data);\n                setSize(data.size);\n                setSkip(0);\n            }\n        });\n    };\n\n    const loadMore = () => {\n        let toSkip = skip + limit;\n        // console.log(newFilters);\n        getFilteredProducts(toSkip, limit, myFilters.filters).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setFilteredResults([...filteredResults, ...data.data]);\n                setSize(data.size);\n                setSkip(toSkip);\n            }\n        });\n    };\n\n    const loadMoreButton = () => {\n        return (\n            size > 0 &&\n            size >= limit && (\n                <button onClick={loadMore} className=\"btn btn-warning mb-5\">\n                    Load more\n                </button>\n            )\n        );\n    };\n\n    useEffect(() => {\n        init();\n        loadFilteredResults(skip, limit, myFilters.filters);\n    }, []);\n\n    const handleFilters = (filters, filterBy) => {\n        // console.log(\"SHOP\", filters, filterBy);\n        const newFilters = { ...myFilters };\n        newFilters.filters[filterBy] = filters;\n\n        if (filterBy === \"price\") {\n            let priceValues = handlePrice(filters);\n            newFilters.filters[filterBy] = priceValues;\n        }\n        loadFilteredResults(myFilters.filters);\n        setMyFilters(newFilters);\n    };\n\n    const handlePrice = value => {\n        const data = prices;\n        let array = [];\n\n        for (let key in data) {\n            if (data[key]._id === parseInt(value)) {\n                array = data[key].array;\n            }\n        }\n        return array;\n    };\n\n    return (\n        <Layout\n            title=\"Shop Page\"\n            description=\"Shopping is great\"\n            className=\"container-fluid\"\n        >\n             \n            <div className=\"row\">\n            <div className=\"col-sm-12 col-md-2 col-lg-3  \">\n                    <h4>Categories</h4>\n                    <ul>\n                        <Checkbox\n                            categories={categories}\n                            handleFilters={filters =>\n                                handleFilters(filters, \"category\")\n                            }\n                        />\n                    </ul>\n\n                    <h4>Price</h4>\n                    <div>\n                        <RadioBox\n                            prices={prices}\n                            handleFilters={filters =>\n                                handleFilters(filters, \"price\")\n                            }\n                        />\n                    </div>\n                </div>\n\n                <div className=\"col-8\">\n                    <h2 className=\"mb-4\">Products</h2>\n                    <div className=\"row\">\n                        {filteredResults.map((product, i) => (\n                            <div key={i} className=\"col-md-3 mb-3\">\n                                <Card product={product} />\n                            </div>\n                        ))}\n                    </div>\n                    <hr />\n                    {loadMoreButton()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Shop;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"./Layout\";\nimport { read, listRelated } from \"./apiCore\";\nimport Card from \"./Card\";\n\nconst Product = props => {\n    const [product, setProduct] = useState({});\n    const [relatedProduct, setRelatedProduct] = useState([]);\n    const [error, setError] = useState(false);\n\n    const loadSingleProduct = productId => {\n        read(productId).then(data => {\n            if (data.error) {\n                setError(data.error);\n            } else {\n                setProduct(data);\n                // fetch related products\n                listRelated(data._id).then(data => {\n                    if (data.error) {\n                        setError(data.error);\n                    } else {\n                        setRelatedProduct(data);\n                    }\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        const productId = props.match.params.productId;\n        loadSingleProduct(productId);\n    }, [props]);\n\n    return (\n        <Layout\n            title={product && product.name}\n            description={\n                product &&\n                product.description &&\n                product.description.substring(0, 100)\n            }\n\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n            <div className=\"col-md-6 offset-md-1\"  style={{ zoom: \"2\", marginTop: \"0%\", padding: \"0\" }}>\n                    {product && product.description && (\n                        <Card product={product} showViewProductButton={false} />\n                    )}\n                </div>\n\n                <div className=\"col-md-4 offset-md-1\">\n                    <h4>Related products</h4>\n                    {relatedProduct.map((p, i) => (\n                        <div className=\"mb-3\">\n                            <Card key={i} product={p} />\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Product;\n\n\n/*\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {newPostForm()}\n                </div>\n            </div>\n\n*/\n","import React, { useState, useEffect } from \"react\";\nimport {\n    getProducts,\n    getBraintreeClientToken,\n    processPayment,\n    createOrder\n} from \"./apiCore\";\nimport { emptyCart } from \"./cartHelpers\";\nimport Card from \"./Card\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport \"braintree-web\";\nimport DropIn from \"braintree-web-drop-in-react\";\n\nconst Checkout = ({ products }) => {\n    const [data, setData] = useState({\n        loading: false,\n        success: false,\n        clientToken: null,\n        error: \"\",\n        instance: {},\n        address: \"\"\n    });\n\n    const userId = isAuthenticated() && isAuthenticated().user._id;\n    const token = isAuthenticated() && isAuthenticated().token;\n\n    const getToken = (userId, token) => {\n        getBraintreeClientToken(userId, token).then(data => {\n            if (data.error) {\n                setData({ ...data, error: data.error });\n            } else {\n                setData({ clientToken: data.clientToken });\n            }\n        });\n    };\n\n    useEffect(() => {\n        getToken(userId, token);\n    }, []);\n\n    const handleAddress = event => {\n        setData({ ...data, address: event.target.value });\n    };\n\n    const getTotal = () => {\n        return products.reduce((currentValue, nextValue) => {\n            return currentValue + nextValue.count * nextValue.price;\n        }, 0);\n    };\n\n    const showCheckout = () => {\n        return isAuthenticated() ? (\n            <div>{showDropIn()}</div>\n        ) : (\n            <Link to=\"/signin\">\n                <button className=\"btn btn-primary\">Sign in to checkout</button>\n            </Link>\n        );\n    };\n\n    let deliveryAddress = data.address;\n\n    const buy = () => {\n        setData({ loading: true });\n        // send the nonce to your server\n        // nonce = data.instance.requestPaymentMethod()\n        let nonce;\n        let getNonce = data.instance\n            .requestPaymentMethod()\n            .then(data => {\n                // console.log(data);\n                nonce = data.nonce;\n                // once you have nonce (card type, card number) send nonce as 'paymentMethodNonce'\n                // and also total to be charged\n                // console.log(\n                //     \"send nonce and total to process: \",\n                //     nonce,\n                //     getTotal(products)\n                // );\n                const paymentData = {\n                    paymentMethodNonce: nonce,\n                    amount: getTotal(products)\n                };\n\n                processPayment(userId, token, paymentData)\n                    .then(response => {\n                        console.log(response);\n                        // empty cart\n                        // create order\n\n                        const createOrderData = {\n                            products: products,\n                            transaction_id: response.transaction.id,\n                            amount: response.transaction.amount,\n                            address: deliveryAddress\n                        };\n\n                        createOrder(userId, token, createOrderData)\n                            .then(response => {\n                                emptyCart(() => {\n                                    console.log(\n                                        \"payment success and empty cart\"\n                                    );\n                                    setData({\n                                        loading: false,\n                                        success: true\n                                    });\n                                });\n                            })\n                            .catch(error => {\n                                console.log(error);\n                                setData({ loading: false });\n                            });\n                    })\n                    .catch(error => {\n                        console.log(error);\n                        setData({ loading: false });\n                    });\n            })\n            .catch(error => {\n                // console.log(\"dropin error: \", error);\n                setData({ ...data, error: error.message });\n            });\n    };\n\n    const showDropIn = () => (\n        <div onBlur={() => setData({ ...data, error: \"\" })}>\n            {data.clientToken !== null && products.length > 0 ? (\n                <div>\n                    <div className=\"gorm-group mb-3\">\n                        <label className=\"text-muted\">Delivery address:</label>\n                        <textarea\n                            onChange={handleAddress}\n                            className=\"form-control\"\n                            value={data.address}\n                            placeholder=\"Type your delivery address here...\"\n                        />\n                    </div>\n\n                    <DropIn\n                        options={{\n                            authorization: data.clientToken,\n                            paypal: {\n                                flow: \"vault\"\n                            }\n                        }}\n                        onInstance={instance => (data.instance = instance)}\n                    />\n                    <button onClick={buy} className=\"btn btn-success btn-block\">\n                        Pay\n                    </button>\n                </div>\n            ) : null}\n        </div>\n    );\n\n    const showError = error => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = success => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: success ? \"\" : \"none\" }}\n        >\n            Thanks! Your payment was successful!\n        </div>\n    );\n\n    const showLoading = loading =>\n        loading && <h2 className=\"text-danger\">Loading...</h2>;\n\n    return (\n        <div>\n            <h2>Total: ${getTotal()}</h2>\n            {showLoading(data.loading)}\n            {showSuccess(data.success)}\n            {showError(data.error)}\n            {showCheckout()}\n        </div>\n    );\n};\n\nexport default Checkout;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Layout from \"./Layout\";\nimport { getCart } from \"./cartHelpers\";\nimport Card from \"./Card\";\nimport Checkout from \"./Checkout\";\n\nconst Cart = () => {\n    const [items, setItems] = useState([]);\n\n    useEffect(() => {\n        setItems(getCart());\n    }, [items]);\n\n    const showItems = items => {\n        return (\n            <div>\n                <h2>Your cart has {`${items.length}`} items</h2>\n                <hr />\n                {items.map((product, i) => (\n                    <Card\n                        key={i}\n                        product={product}\n                        showAddToCartButton={false}\n                        cartUpdate={true}\n                        showRemoveProductButton={true}\n                    />\n                ))}\n            </div>\n        );\n    };\n\n    const noItemsMessage = () => (\n        <h2>\n            Your cart is empty. <br /> <Link to=\"/shop\">Continue shopping</Link>\n        </h2>\n    );\n\n    return (\n        <Layout\n            title=\"Shopping Cart\"\n            description=\"Manage your cart items. Add remove checkout or continue shopping.\"\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-6\">\n                    {items.length > 0 ? showItems(items) : noItemsMessage()}\n                </div>\n\n                <div className=\"col-6\">\n                    <h2 className=\"mb-4\">Your cart summary</h2>\n                    <hr />\n                    <Checkout products={items} />\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Cart;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { listOrders, getStatusValues, updateOrderStatus } from \"./apiAdmin\";\nimport moment from \"moment\";\n\nconst Orders = () => {\n    const [orders, setOrders] = useState([]);\n    const [statusValues, setStatusValues] = useState([]);\n\n    const { user, token } = isAuthenticated();\n\n    const loadOrders = () => {\n        listOrders(user._id, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setOrders(data);\n            }\n        });\n    };\n\n    const loadStatusValues = () => {\n        getStatusValues(user._id, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setStatusValues(data);\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadOrders();\n        loadStatusValues();\n    }, []);\n\n    const showOrdersLength = () => {\n        if (orders.length > 0) {\n            return (\n                <h1 className=\"text-danger display-2\">\n                    Total orders: {orders.length}\n                </h1>\n            );\n        } else {\n            return <h1 className=\"text-danger\">No orders</h1>;\n        }\n    };\n\n    const showInput = (key, value) => (\n        <div className=\"input-group mb-2 mr-sm-2\">\n            <div className=\"input-group-prepend\">\n                <div className=\"input-group-text\">{key}</div>\n            </div>\n            <input\n                type=\"text\"\n                value={value}\n                className=\"form-control\"\n                readOnly\n            />\n        </div>\n    );\n\n    const handleStatusChange = (e, orderId) => {\n        updateOrderStatus(user._id, token, orderId, e.target.value).then(\n            data => {\n                if (data.error) {\n                    console.log(\"Status update failed\");\n                } else {\n                    loadOrders();\n                }\n            }\n        );\n    };\n\n    const showStatus = o => (\n        <div className=\"form-group\">\n            <h3 className=\"mark mb-4\">Status: {o.status}</h3>\n            <select\n                className=\"form-control\"\n                onChange={e => handleStatusChange(e, o._id)}\n            >\n                <option>Update Status</option>\n                {statusValues.map((status, index) => (\n                    <option key={index} value={status}>\n                        {status}\n                    </option>\n                ))}\n            </select>\n        </div>\n    );\n\n    return (\n        <Layout\n            title=\"Orders\"\n            description={`G'day ${\n                user.name\n            }, you can manage all the orders here`}\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showOrdersLength()}\n\n                    {orders.map((o, oIndex) => {\n                        return (\n                            <div\n                                className=\"mt-5\"\n                                key={oIndex}\n                                style={{ borderBottom: \"5px solid indigo\" }}\n                            >\n                                <h2 className=\"mb-5\">\n                                    <span className=\"bg-primary\">\n                                        Order ID: {o._id}\n                                    </span>\n                                </h2>\n\n                                <ul className=\"list-group mb-2\">\n                                    <li className=\"list-group-item\">\n                                        {showStatus(o)}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Transaction ID: {o.transaction_id}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Amount: ${o.amount}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Ordered by: {o.user.name}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Ordered on:{\" \"}\n                                        {moment(o.createdAt).fromNow()}\n                                    </li>\n                                    <li className=\"list-group-item\">\n                                        Delivery address: {o.address}\n                                    </li>\n                                </ul>\n\n                                <h3 className=\"mt-4 mb-4 font-italic\">\n                                    Total products in the order:{\" \"}\n                                    {o.products.length}\n                                </h3>\n\n                                {o.products.map((p, pIndex) => (\n                                    <div\n                                        className=\"mb-4\"\n                                        key={pIndex}\n                                        style={{\n                                            padding: \"20px\",\n                                            border: \"1px solid indigo\"\n                                        }}\n                                    >\n                                        {showInput(\"Product name\", p.name)}\n                                        {showInput(\"Product price\", p.price)}\n                                        {showInput(\"Product total\", p.count)}\n                                        {showInput(\"Product Id\", p._id)}\n                                    </div>\n                                ))}\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default Orders;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { read, update, updateUser } from \"./apiUser\";\n\nconst Profile = ({ match }) => {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        error: false,\n        success: false\n    });\n\n    const { token } = isAuthenticated();\n    const { name, email, password, error, success } = values;\n\n    const init = userId => {\n        // console.log(userId);\n        read(userId, token).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: true });\n            } else {\n                setValues({ ...values, name: data.name, email: data.email });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(match.params.userId);\n    }, []);\n\n    const handleChange = name => e => {\n        setValues({ ...values, error: false, [name]: e.target.value });\n    };\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        update(match.params.userId, token, { name, email, password }).then(\n            data => {\n                if (data.error) {\n                    console.log(data.error);\n                } else {\n                    updateUser(data, () => {\n                        setValues({\n                            ...values,\n                            name: data.name,\n                            email: data.email,\n                            success: true\n                        });\n                    });\n                }\n            }\n        );\n    };\n\n    const redirectUser = success => {\n        if (success) {\n            return <Redirect to=\"/cart\" />;\n        }\n    };\n\n    const profileUpdate = (name, email, password) => (\n        <form>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    type=\"text\"\n                    onChange={handleChange(\"name\")}\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email</label>\n                <input\n                    type=\"email\"\n                    onChange={handleChange(\"email\")}\n                    className=\"form-control\"\n                    value={email}\n                />\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Password</label>\n                <input\n                    type=\"password\"\n                    onChange={handleChange(\"password\")}\n                    className=\"form-control\"\n                    value={password}\n                />\n            </div>\n\n            <button onClick={clickSubmit} className=\"btn btn-primary\">\n                Submit\n            </button>\n        </form>\n    );\n\n    return (\n        <Layout\n            title=\"Profile\"\n            description=\"Update your profile\"\n            className=\"container-fluid\"\n        >\n            <h2 className=\"mb-4\">Profile update</h2>\n            {profileUpdate(name, email, password)}\n            {redirectUser(success)}\n        </Layout>\n    );\n};\n\nexport default Profile;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link } from \"react-router-dom\";\nimport { getProducts, deleteProduct } from \"./apiAdmin\";\n\nconst ManageProducts = () => {\n    const [products, setProducts] = useState([]);\n\n    const { user, token } = isAuthenticated();\n\n    const loadProducts = () => {\n        getProducts().then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                setProducts(data);\n            }\n        });\n    };\n\n    const destroy = productId => {\n        deleteProduct(productId, user._id, token).then(data => {\n            if (data.error) {\n                console.log(data.error);\n            } else {\n                loadProducts();\n            }\n        });\n    };\n\n    useEffect(() => {\n        loadProducts();\n    }, []);\n\n    return (\n        <Layout\n            title=\"Manage Products\"\n            description=\"Perform CRUD on products\"\n            className=\"container-fluid\"\n        >\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <h2 className=\"text-center\">\n                        Total {products.length} products\n                    </h2>\n                    <hr />\n\n\n\n                    <div className=\"container\">\n                        {products.map((p, i) => (\n                            <div\n                                key={i}\n                                className=\"row\"\n                            >\n                                <strong  className=\"col-sm\" >{p.name}</strong>\n                                <Link to={`/admin/product/update/${p._id}`}className=\"col-sm\">\n                                    <span className=\"badge badge-warning badge-pill\">\n                                        Update\n                                    </span>\n                                </Link>\n\n                                <div className=\"col-sm\">\n                                <span\n                                    onClick={() => destroy(p._id)}\n                                    className=\"badge badge-danger badge-pill\" \n                                >\n                                    Delete\n                                </span>\n                                </div>\n                                \n                            </div>\n                        ))}\n                    </div>\n\n\n\n\n                    <br />\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default ManageProducts;\n","import React, { useState, useEffect } from \"react\";\nimport Layout from \"../core/Layout\";\nimport { isAuthenticated } from \"../auth\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { getProduct, getCategories, updateProduct } from \"./apiAdmin\";\n\nconst UpdateProduct = ({ match }) => {\n    const [values, setValues] = useState({\n        name: \"\",\n        description: \"\",\n        price: \"\",\n        categories: [],\n        category: \"\",\n        shipping: \"\",\n        quantity: \"\",\n        photo: \"\",\n        loading: false,\n        error: false,\n        createdProduct: \"\",\n        redirectToProfile: false,\n        formData: \"\"\n    });\n\n    const { user, token } = isAuthenticated();\n    const {\n        name,\n        description,\n        price,\n        categories,\n        category,\n        shipping,\n        quantity,\n        loading,\n        error,\n        createdProduct,\n        redirectToProfile,\n        formData\n    } = values;\n\n    const init = productId => {\n        getProduct(productId).then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                // populate the state\n                setValues({\n                    ...values,\n                    name: data.name,\n                    description: data.description,\n                    price: data.price,\n                    category: data.category._id,\n                    shipping: data.shipping,\n                    quantity: data.quantity,\n                    formData: new FormData()\n                });\n                // load categories\n                initCategories();\n            }\n        });\n    };\n\n    // load categories and set form data\n    const initCategories = () => {\n        getCategories().then(data => {\n            if (data.error) {\n                setValues({ ...values, error: data.error });\n            } else {\n                setValues({\n                    categories: data,\n                    formData: new FormData()\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init(match.params.productId);\n    }, []);\n\n    const handleChange = name => event => {\n        const value =\n            name === \"photo\" ? event.target.files[0] : event.target.value;\n        formData.set(name, value);\n        setValues({ ...values, [name]: value });\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({ ...values, error: \"\", loading: true });\n\n        updateProduct(match.params.productId, user._id, token, formData).then(\n            data => {\n                if (data.error) {\n                    setValues({ ...values, error: data.error });\n                } else {\n                    setValues({\n                        ...values,\n                        name: \"\",\n                        description: \"\",\n                        photo: \"\",\n                        price: \"\",\n                        quantity: \"\",\n                        loading: false,\n                        error: false,\n                        redirectToProfile: true,\n                        createdProduct: data.name\n                    });\n                }\n            }\n        );\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                    <input\n                        onChange={handleChange(\"photo\")}\n                        type=\"file\"\n                        name=\"photo\"\n                        accept=\"image/*\"\n                    />\n                </label>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input\n                    onChange={handleChange(\"name\")}\n                    type=\"text\"\n                    className=\"form-control\"\n                    value={name}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <textarea\n                    onChange={handleChange(\"description\")}\n                    className=\"form-control\"\n                    value={description}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input\n                    onChange={handleChange(\"price\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={price}\n                />\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select\n                    onChange={handleChange(\"category\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    {categories &&\n                        categories.map((c, i) => (\n                            <option key={i} value={c._id}>\n                                {c.name}\n                            </option>\n                        ))}\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select\n                    onChange={handleChange(\"shipping\")}\n                    className=\"form-control\"\n                >\n                    <option>Please select</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n                </select>\n            </div>\n\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Quantity</label>\n                <input\n                    onChange={handleChange(\"quantity\")}\n                    type=\"number\"\n                    className=\"form-control\"\n                    value={quantity}\n                />\n            </div>\n\n            <button className=\"btn btn-outline-primary\">Update Product</button>\n        </form>\n    );\n\n    const showError = () => (\n        <div\n            className=\"alert alert-danger\"\n            style={{ display: error ? \"\" : \"none\" }}\n        >\n            {error}\n        </div>\n    );\n\n    const showSuccess = () => (\n        <div\n            className=\"alert alert-info\"\n            style={{ display: createdProduct ? \"\" : \"none\" }}\n        >\n            <h2>{`${createdProduct}`} is updated!</h2>\n        </div>\n    );\n\n    const showLoading = () =>\n        loading && (\n            <div className=\"alert alert-success\">\n                <h2>Loading...</h2>\n            </div>\n        );\n\n    const redirectUser = () => {\n        if (redirectToProfile) {\n            if (!error) {\n                return <Redirect to=\"/\" />;\n            }\n        }\n    };\n\n    return (\n        <Layout\n            title=\"Add a new product\"\n            description={`G'day ${user.name}, ready to add a new product?`}\n        >\n            <div className=\"row\">\n                <div className=\"col-md-8 offset-md-2\">\n                    {showLoading()}\n                    {showSuccess()}\n                    {showError()}\n                    {newPostForm()}\n                    {redirectUser()}\n                </div>\n            </div>\n        </Layout>\n    );\n};\n\nexport default UpdateProduct;\n","import React from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Signup from \"./user/Signup\";\nimport Signin from \"./user/Signin\";\nimport Home from \"./core/Home\";\nimport PrivateRoute from \"./auth/PrivateRoute\";\nimport Dashboard from \"./user/UserDashboard\";\nimport AdminRoute from \"./auth/AdminRoute\";\nimport AdminDashboard from \"./user/AdminDashboard\";\nimport AddCategory from \"./admin/AddCategory\";\nimport AddProduct from \"./admin/AddProduct\";\nimport Shop from \"./core/Shop\";\nimport Product from \"./core/Product\";\nimport Cart from \"./core/Cart\";\nimport Orders from \"./admin/Orders\";\nimport Profile from \"./user/Profile\";\nimport ManageProducts from \"./admin/ManageProducts\";\nimport UpdateProduct from \"./admin/UpdateProduct\";\n\nconst Routes = () => {\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/\" exact component={Home} />\n                <Route path=\"/shop\" exact component={Shop} />\n                <Route path=\"/signin\" exact component={Signin} />\n                <Route path=\"/signup\" exact component={Signup} />\n                <PrivateRoute\n                    path=\"/user/dashboard\"\n                    exact\n                    component={Dashboard}\n                />\n                <AdminRoute\n                    path=\"/admin/dashboard\"\n                    exact\n                    component={AdminDashboard}\n                />\n                <AdminRoute\n                    path=\"/create/category\"\n                    exact\n                    component={AddCategory}\n                />\n                <AdminRoute\n                    path=\"/create/product\"\n                    exact\n                    component={AddProduct}\n                />\n                <Route path=\"/product/:productId\" exact component={Product} />\n                <Route path=\"/cart\" exact component={Cart} />\n                <AdminRoute path=\"/admin/orders\" exact component={Orders} />\n                <PrivateRoute\n                    path=\"/profile/:userId\"\n                    exact\n                    component={Profile}\n                />\n                <AdminRoute\n                    path=\"/admin/products\"\n                    exact\n                    component={ManageProducts}\n                />\n                <AdminRoute\n                    path=\"/admin/product/update/:productId\"\n                    exact\n                    component={UpdateProduct}\n                />\n            </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default Routes;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Routes from \"./Routes\";\n\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\n"],"sourceRoot":""}